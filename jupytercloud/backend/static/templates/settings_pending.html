{% extends "page.html" %}

{% block main %}

<div class="container">
  <div class="row">
    <div class="text-center">
      <p>Settings are applying to your <a href="{{ qyp_link }}" target="_blank">server</a>.</p>
      <p>You will be redirected automatically after success.</p>
      <div class="progress">
        <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
          <span class="sr-only"><span id="sr-progress">0%</span> Complete</span>
        </div>
      </div>
      <p id="progress-message"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <details id="progress-details">
        <summary>Event log</summary>
        <div id="progress-log"></div>
      </details>
    </div>
  </div>
</div>

{% endblock %}


{% block script %}

{{ super() }}

<script>
    const PROGRESS_URL = '{{ progress_url }}';
    const SETTINGS_URL = '{{ settings_url }}';
</script>
<script src="{{ jc_static_url('js/settings_pending.js') }}"></script>

{% endblock %}
