# TScenarioRunResponse:
Features {
  PlayerFeatures {
    RestorePlayer: true
  }
}
ApplyArguments {
  [type.googleapis.com/NAlice.NHollywoodFw.TProtoHwSceneCCAArguments] {
    ScenarioArgs {
      [type.googleapis.com/NAlice.NHollywood.TMusicArguments] {
        PlayerCommand: Dislike
        BiometryResult {
        }
        ExecutionFlowType: ThinClientDefault
        AccountStatus {
          Uid: "1083955728"
          HasPlus: true
          HasMusicSubscription: true
          MusicSubscriptionRegionId: 225
        }
        IoTUserInfo {
          RawUserInfo: "{\"payload\": {\"devices\": []}}"
        }
      }
    }
    ProtoHwScene {
      OldFlowSelected: true
    }
  }
}
Version: "trunk@******"

# TScenarioApplyResponse:
ResponseBody {
  Layout {
    Cards {
      Text: "Хорошо, ставлю дизлайк."
    }
    OutputSpeech: "Хорошо, ставлю дизлайк."
    Directives {
      AudioPlayDirective {
        Name: "music"
        Stream {
          Id: "34209274"
          Url: "https://storage.mds.yandex.net/get-alice/48680_d49709ad.101273657.11.34209274/320?sign=f17cd2384e578b47394a19a541ecc65083a580e4f0e1e4c08579c90233644abb&ts=62a23094&offset=26911"
          StreamFormat: MP3
          Normalization {
            IntegratedLoudness: -10.0
            TruePeak: 1.88
          }
          ExpiringAtMs: 1654796436683
        }
        AudioPlayMetadata {
          Title: "Don\'t Hold Me"
          SubTitle: "Sandro Cavazza"
          ArtImageUrl: "avatars.yandex.net/get-music-content/103235/a5d37a9f.a.4319116-1/%%"
          GlagolMetadata {
            MusicMetadata {
              Id: "mood:sad"
              Type: Radio
              PrevTrackInfo {
                Id: "28212492"
              }
              RepeatMode: None
            }
          }
        }
        Callbacks {
          OnPlayStartedCallback {
            Name: "music_thin_client_on_started"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "4319116"
                                }
                              }
                              fields {
                                key: "albumType"
                                value {
                                  string_value: "single"
                                }
                              }
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "radio"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-discovery-radio-mood"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "WbpdIqveE7im"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                    values {
                      struct_value {
                        fields {
                          key: "radioFeedbackEvent"
                          value {
                            struct_value {
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "stationId"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "28212492:3370955"
                                }
                              }
                              fields {
                                key: "type"
                                value {
                                  string_value: "Dislike"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                    values {
                      struct_value {
                        fields {
                          key: "radioFeedbackEvent"
                          value {
                            struct_value {
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "stationId"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274:4319116"
                                }
                              }
                              fields {
                                key: "type"
                                value {
                                  string_value: "TrackStarted"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnPlayStoppedCallback {
            Name: "music_thin_client_on_stopped"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "4319116"
                                }
                              }
                              fields {
                                key: "albumType"
                                value {
                                  string_value: "single"
                                }
                              }
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "radio"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-discovery-radio-mood"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "WbpdIqveE7im"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnPlayFinishedCallback {
            Name: "music_thin_client_on_finished"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "4319116"
                                }
                              }
                              fields {
                                key: "albumType"
                                value {
                                  string_value: "single"
                                }
                              }
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "radio"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-discovery-radio-mood"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "WbpdIqveE7im"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                    values {
                      struct_value {
                        fields {
                          key: "radioFeedbackEvent"
                          value {
                            struct_value {
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "stationId"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274:4319116"
                                }
                              }
                              fields {
                                key: "type"
                                value {
                                  string_value: "TrackFinished"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnFailedCallback {
            Name: "music_thin_client_on_failed"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "4319116"
                                }
                              }
                              fields {
                                key: "albumType"
                                value {
                                  string_value: "single"
                                }
                              }
                              fields {
                                key: "batchId"
                                value {
                                  string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "radio"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "mood:sad"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-discovery-radio-mood"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "WbpdIqveE7im"
                                }
                              }
                              fields {
                                key: "radioSessionId"
                                value {
                                  string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "34209274"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        ScenarioMeta {
          key: "content_id"
          value: "CAQSCG1vb2Q6c2FkGghtb29kOnNhZA=="
        }
        ScenarioMeta {
          key: "owner"
          value: "music"
        }
        ScenarioMeta {
          key: "queue_item"
          value: "CggzNDIwOTI3NBoNRG9uJ3QgSG9sZCBNZTJDYXZhdGFycy55YW5kZXgubmV0L2dldC1tdXNpYy1jb250ZW50LzEwMzIzNS9hNWQzN2E5Zi5hLjQzMTkxMTYtMS8lJTrBAQqwAWh0dHBzOi8vc3RvcmFnZS5tZHMueWFuZGV4Lm5ldC9nZXQtYWxpY2UvNDg2ODBfZDQ5NzA5YWQuMTAxMjczNjU3LjExLjM0MjA5Mjc0LzMyMD9zaWduPWYxN2NkMjM4NGU1NzhiNDczOTRhMTlhNTQxZWNjNjUwODNhNTgwZTRmMGUxZTRjMDg1NzljOTAyMzM2NDRhYmImdHM9NjJhMjMwOTQmb2Zmc2V0PTI2OTExEOC42Yb8LSDLibfMlDBKDFdicGRJcXZlRTdpbVCutQqCAQVtdXNpY5oBvgEKBzQzMTkxMTYSE1NhbmRybyBDYXZhenphIC0gRVAaA3BvcCIGc2luZ2xlKgc0NDM1MTgyMhkKDlNhbmRybyBDYXZhenphGgc0NDM1MTgyOAFAAUpDYXZhdGFycy55YW5kZXgubmV0L2dldC1tdXNpYy1jb250ZW50LzEwMzIzNS9hNWQzN2E5Zi5hLjQzMTkxMTYtMS8lJVIZCg5TYW5kcm8gQ2F2YXp6YRoHNDQzNTE4MmIECAEQAWjhD3AHqgEWCAQSCG1vb2Q6c2FkGghtb29kOnNhZLIBEgkAAAAAAAAkwBEUrkfhehT+Pw=="
        }
        ScreenType: Music
      }
    }
  }
  State {
    [type.googleapis.com/NAlice.NHollywood.NMusic.TScenarioState] {
      Queue {
        PlaybackContext {
          ContentId {
            Type: Radio
            Id: "mood:sad"
            Ids: "mood:sad"
          }
          BiometryOptions {
            UserId: "1083955728"
          }
        }
        History {
          TrackId: "28212492"
          Title: "Chasing Stars"
          CoverUrl: "avatars.yandex.net/get-music-content/38044/adfbc352.a.3370955-1/%%"
          UrlInfo {
            Url: "https://storage.mds.yandex.net/get-alice/52044_ca9d0f77.42093929.28212492/320?sign=43731829b84c1bc705a9c374ac33e7b9a27717eb7370e50251d988dd60d3064c&ts=62a23093"
            UrlTime: 1579488271002
            ExpiringAtMs: 1654796435950
          }
          PlayId: "MybGxXk1eolM"
          DurationMs: 209450
          Type: "music"
          TrackInfo {
            AlbumId: "3370955"
            AlbumTitle: "Epic Pop 3"
            Genre: "pop"
            AlbumType: "compilation"
            ArtistId: "2253220"
            Artists {
              Name: "Rupert Pope"
              Id: "2253220"
            }
            Artists {
              Name: "Giles Palmer"
              Id: "3456828"
            }
            Available: true
            AvailableForPremiumUsers: true
            AlbumCoverUrl: "avatars.yandex.net/get-music-content/38044/adfbc352.a.3370955-1/%%"
            AlbumArtists {
              Name: "сборник"
              Id: "171"
              Various: true
            }
            LyricsInfo {
              HasAvailableSyncLyrics: true
              HasAvailableTextLyrics: true
            }
            AlbumYear: 2016
            AlbumLikes: 9
          }
          OriginContentId {
            Type: Radio
            Id: "mood:sad"
            Ids: "mood:sad"
          }
          Normalization {
            IntegratedLoudness: -8.91
            TruePeak: 0.13
          }
        }
        History {
          TrackId: "34209274"
          Title: "Don\'t Hold Me"
          CoverUrl: "avatars.yandex.net/get-music-content/103235/a5d37a9f.a.4319116-1/%%"
          UrlInfo {
            Url: "https://storage.mds.yandex.net/get-alice/48680_d49709ad.101273657.11.34209274/320?sign=f17cd2384e578b47394a19a541ecc65083a580e4f0e1e4c08579c90233644abb&ts=62a23094&offset=26911"
            UrlTime: 1579488271456
            ExpiringAtMs: 1654796436683
          }
          PlayId: "WbpdIqveE7im"
          DurationMs: 170670
          Type: "music"
          TrackInfo {
            AlbumId: "4319116"
            AlbumTitle: "Sandro Cavazza - EP"
            Genre: "pop"
            AlbumType: "single"
            ArtistId: "4435182"
            Artists {
              Name: "Sandro Cavazza"
              Id: "4435182"
            }
            Available: true
            AvailableForPremiumUsers: true
            AlbumCoverUrl: "avatars.yandex.net/get-music-content/103235/a5d37a9f.a.4319116-1/%%"
            AlbumArtists {
              Name: "Sandro Cavazza"
              Id: "4435182"
            }
            LyricsInfo {
              HasAvailableSyncLyrics: true
              HasAvailableTextLyrics: true
            }
            AlbumYear: 2017
            AlbumLikes: 7
          }
          OriginContentId {
            Type: Radio
            Id: "mood:sad"
            Ids: "mood:sad"
          }
          Normalization {
            IntegratedLoudness: -10.0
            TruePeak: 1.88
          }
        }
        CurrentContentLoadingState {
          Radio {
            BatchId: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
            SessionId: "dKKO-OZCufcTmLUc5PT-NvbM"
          }
        }
        Config {
          PageSize: 20
          HistorySize: 10
          ExplicitFilteredOutWarningRate: 0.25
          FindTrackIdxPageSize: 10000
        }
        FiltrationMode: Moderate
      }
      BiometryUserId: "1083955728"
      RepeatedSkipState {
        SkipCount: 1
      }
    }
  }
  AnalyticsInfo {
    Intent: "personal_assistant.scenarios.player_dislike"
    Actions {
      Id: "player_dislike"
      Name: "player dislike"
      HumanReadable: "Трек отмечается как непонравившийся"
    }
    Actions {
      Id: "player_next_track"
      Name: "player next track"
      HumanReadable: "Включается следующий музыкальный трек"
    }
    Objects {
      Id: "music.first_track_id"
      Name: "first_track_id"
      HumanReadable: "Sandro Cavazza, трек \"Don\'t Hold Me\""
      FirstTrack {
        Id: "34209274"
        Genre: "pop"
        Duration: "170670"
        AlbumType: "single"
      }
    }
    ProductScenarioName: "player_commands"
    NlgRenderHistoryRecords {
      TemplateName: "player_dislike"
      PhraseName: "render_result"
      Language: L_RUS
    }
  }
  StackEngine {
    Actions {
      ResetAdd {
        Effects {
          Callback {
            Name: "music_thin_client_next"
          }
        }
        RecoveryAction {
          Callback {
            Name: "music_thin_client_recovery"
            Payload {
              fields {
                key: "playback_context"
                value {
                  struct_value {
                    fields {
                      key: "biometry_options"
                      value {
                        struct_value {
                          fields {
                            key: "user_id"
                            value {
                              string_value: "1083955728"
                            }
                          }
                        }
                      }
                    }
                    fields {
                      key: "content_id"
                      value {
                        struct_value {
                          fields {
                            key: "id"
                            value {
                              string_value: "mood:sad"
                            }
                          }
                          fields {
                            key: "ids"
                            value {
                              list_value {
                                values {
                                  string_value: "mood:sad"
                                }
                              }
                            }
                          }
                          fields {
                            key: "type"
                            value {
                              string_value: "Radio"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              fields {
                key: "radio"
                value {
                  struct_value {
                    fields {
                      key: "batch_id"
                      value {
                        string_value: "36978ac9-6071-5c17-b9ba-54dabbadoo00.BK33"
                      }
                    }
                    fields {
                      key: "session_id"
                      value {
                        string_value: "dKKO-OZCufcTmLUc5PT-NvbM"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
Version: "trunk@******"
