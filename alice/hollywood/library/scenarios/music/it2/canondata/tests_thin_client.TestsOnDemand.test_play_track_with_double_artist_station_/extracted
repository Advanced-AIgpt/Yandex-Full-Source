# TScenarioRunResponse:
Features {
  MusicFeatures {
    Result {
      TrackNameSimilarity {
        QueryInResponse {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        ResponseInQuery {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        Prefix {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        DoublePrefix {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
      }
      AlbumNameSimilarity {
        QueryInResponse {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        ResponseInQuery {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        Prefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        DoublePrefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
      }
      ArtistNameSimilarity {
        QueryInResponse {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        ResponseInQuery {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        Prefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        DoublePrefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
      }
    }
    Wizard {
      TitleSimilarity {
      }
      TrackNameSimilarity {
      }
      AlbumNameSimilarity {
      }
      ArtistNameSimilarity {
      }
      TrackLyricsSimilarity {
      }
    }
    Documents {
      TitleSimilarity {
        QueryInResponse {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        ResponseInQuery {
          Max: 0.08
          Mean: 0.048531465
          Min: 0.03773585
        }
        Prefix {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        DoublePrefix {
          Max: 0.5
          Mean: 0.1381119
          Min: 0.09090909
        }
      }
      SnippetSimilarity {
        QueryInResponse {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        ResponseInQuery {
          Max: 1.0
          Mean: 1.0
          Min: 1.0
        }
        Prefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
        DoublePrefix {
          Max: 0.0
          Mean: 0.0
          Min: 0.0
        }
      }
    }
  }
}
Version: "trunk@******"
ContinueArguments {
  [type.googleapis.com/NAlice.NHollywoodFw.TProtoHwSceneCCAArguments] {
    ScenarioArgs {
      [type.googleapis.com/NAlice.NHollywood.TMusicArguments] {
        MusicSearchResult {
          ContentId: "71335767"
          ContentType: "track"
          ScenarioAnalyticsInfo: "EidwZXJzb25hbF9hc3Npc3RhbnQuc2NlbmFyaW9zLm11c2ljX3BsYXk6oAIIkNPHqpSR5wIqlAIKEG11c2ljX3dlYl9zZWFyY2gSJDMyZTE5ZTAyLWEwYzUtNTYyZS1hYWMzLTk0ZGFiYmFkb28wMBpaMTY1NDc5OTIxNDE5MTg2Ny0xMjU2NjM1NzI5MDI3NDgxOTM4MS1zYXMxLTQ3ODYtc2FzLWh0dHAtYWRhcHRlci13ZWItaGEtZjk0LTEyNzc1LUJBTC0xMzA4IjVodHRwczovL211c2ljLnlhbmRleC5ydS9hbGJ1bS8xMjE0MjE4Ny90cmFjay83MTMzNTc2NzpHaHR0cHM6Ly9tdXNpYy55YW5kZXgucnUvYWxidW0vMTI3MzQzNDQvdHJhY2svNzEzMzU3NjcvP2Zyb209YWxpY2UmbW9iPTA6vQMIkNPHqpSR5wISsQMKEG11c2ljX3dlYl9zZWFyY2gSKAoEdGV4dBIgZWwgcHJvYmxlbWEgaG9zdDptdXNpYy55YW5kZXgucnUa7QIKGFgtWWFuZGV4LUFsaWNlLU1ldGEtSW5mbxLQAkNpZHdaWEp6YjI1aGJGOWhjM05wYzNSaGJuUXVjMk5sYm1GeWFXOXpMbTExYzJsalgzQnNZWGtTcHdFS0ZISjFMbmxoYm1SbGVDNXhkV0Z6WVhJdVlYQndFZ014TGpBYUJUWXVNQzR4SWdkaGJtUnliMmxrS2lSa1pXRmtZbVZsWmkxa1pXRmtMV0psWldZdE1USXpOQzFrWldGa1ltVmxaakV5TXpReUpHWmxaV1JtWVdObExXVTRZVEl0TkRRek9TMWlNbVUzTFRZNE9XUTVOV1l5TnpkaU56b0ZjblV0VWxWQ0R6SXdNakF3TVRJd1ZEQXlORFF6TVVvQVVnb3hOVGM1TkRnNE1qY3hXZ0JpQmxsaGJtUmxlQ0lqQ2d6UXN0QzYwTHZSanRHSDBMZ0tBbVZzQ2dod2NtOWliR1Z0WVJJRkNnTUFBUUlxQUEsLCDIATABOhAIkNPHqpSR5wIiBQoDd2ViSgVtdXNpYw=="
          Title: "El Problema"
          TrackGenre: "rusrap"
          Subtype: "music"
        }
        ExecutionFlowType: ThinClientDefault
        AccountStatus {
          Uid: "1083955728"
          HasPlus: true
          HasMusicSubscription: true
          MusicSubscriptionRegionId: 225
        }
        OnDemandRequest {
          ArtistId: "5781113"
        }
        IoTUserInfo {
          RawUserInfo: "{\"payload\": {\"devices\": []}}"
        }
        IsNewContentRequestedByUser: true
      }
    }
    ProtoHwScene {
      OldFlowSelected: true
    }
  }
}

# TScenarioContinueResponse:
ResponseBody {
  Layout {
    Cards {
      Text: "Включаю: MORGENSHTERN, Тимати, песня \"El Problema\"."
    }
    OutputSpeech: "Включаю MORGENSHTERN, Тимати, песня \"El Problema\". Внимание! Это не для детских ушей."
    Directives {
      AudioPlayDirective {
        Name: "music"
        Stream {
          Id: "71335767"
          Url: "https://storage.mds.yandex.net/get-alice/1767326_2d5b888c.111011378.9.71335767/320?sign=6fb97d2b033258aa2ad82c7bea7c4ec2a4f6fb35c9b3f28b0b72c59039c6265d&ts=62a2497e&offset=21623"
          StreamFormat: MP3
          Normalization {
            IntegratedLoudness: -8.07
            TruePeak: 0.68
          }
          ExpiringAtMs: 1654802814771
        }
        AudioPlayMetadata {
          Title: "El Problema"
          SubTitle: "MORGENSHTERN"
          ArtImageUrl: "avatars.yandex.net/get-music-content/2441215/d61b4cef.a.12734344-1/%%"
          GlagolMetadata {
            MusicMetadata {
              Id: "71335767"
              RepeatMode: None
            }
          }
        }
        Callbacks {
          OnPlayStartedCallback {
            Name: "music_thin_client_on_started"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "12734344"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "track"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-on_demand-catalogue_-track"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "nK2Lv7YkjNGp"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnPlayStoppedCallback {
            Name: "music_thin_client_on_stopped"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "12734344"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "track"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-on_demand-catalogue_-track"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "nK2Lv7YkjNGp"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnPlayFinishedCallback {
            Name: "music_thin_client_on_finished"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "12734344"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "track"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-on_demand-catalogue_-track"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "nK2Lv7YkjNGp"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          OnFailedCallback {
            Name: "music_thin_client_on_failed"
            IgnoreAnswer: true
            Payload {
              fields {
                key: "events"
                value {
                  list_value {
                    values {
                      struct_value {
                        fields {
                          key: "playAudioEvent"
                          value {
                            struct_value {
                              fields {
                                key: "albumId"
                                value {
                                  string_value: "12734344"
                                }
                              }
                              fields {
                                key: "context"
                                value {
                                  string_value: "track"
                                }
                              }
                              fields {
                                key: "contextItem"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "from"
                                value {
                                  string_value: "alice-on_demand-catalogue_-track"
                                }
                              }
                              fields {
                                key: "playId"
                                value {
                                  string_value: "nK2Lv7YkjNGp"
                                }
                              }
                              fields {
                                key: "trackId"
                                value {
                                  string_value: "71335767"
                                }
                              }
                              fields {
                                key: "uid"
                                value {
                                  string_value: "1083955728"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        ScenarioMeta {
          key: "content_id"
          value: "Egg3MTMzNTc2Nw=="
        }
        ScenarioMeta {
          key: "owner"
          value: "music"
        }
        ScenarioMeta {
          key: "queue_item"
          value: "Cgg3MTMzNTc2NxoLRWwgUHJvYmxlbWEyRWF2YXRhcnMueWFuZGV4Lm5ldC9nZXQtbXVzaWMtY29udGVudC8yNDQxMjE1L2Q2MWI0Y2VmLmEuMTI3MzQzNDQtMS8lJTrCAQqxAWh0dHBzOi8vc3RvcmFnZS5tZHMueWFuZGV4Lm5ldC9nZXQtYWxpY2UvMTc2NzMyNl8yZDViODg4Yy4xMTEwMTEzNzguOS43MTMzNTc2Ny8zMjA/c2lnbj02ZmI5N2QyYjAzMzI1OGFhMmFkODJjN2JlYTdjNGVjMmE0ZjZmYjM1YzliM2YyOGIwYjcyYzU5MDM5YzYyNjVkJnRzPTYyYTI0OTdlJm9mZnNldD0yMTYyMxCatdmG/C0gs668z5QwSgxuSzJMdjdZa2pOR3BQ1qcIeAGCAQVtdXNpY5oBywEKCDEyNzM0MzQ0Eg7QotGA0LDQvdC30LjRghoGcnVzcmFwKgc1NzgxMTEzMhcKDE1PUkdFTlNIVEVSThoHNTc4MTExMzIWCgzQotC40LzQsNGC0LgaBjE2ODg1NzgBQAFKRWF2YXRhcnMueWFuZGV4Lm5ldC9nZXQtbXVzaWMtY29udGVudC8yNDQxMjE1L2Q2MWI0Y2VmLmEuMTI3MzQzNDQtMS8lJVIWCgzQotC40LzQsNGC0LgaBjE2ODg1N2IECAEQAWjkD3CSAaoBChIINzEzMzU3NjeyARIJpHA9CtcjIMARw/UoXI/C5T8="
        }
        ScreenType: Music
      }
    }
  }
  SemanticFrame {
    Name: "personal_assistant.scenarios.music_play"
    Slots {
      Name: "answer"
      Type: "music_result"
      AcceptedTypes: "music_result"
    }
  }
  State {
    [type.googleapis.com/NAlice.NHollywood.NMusic.TScenarioState] {
      Queue {
        PlaybackContext {
          ContentId {
            Id: "71335767"
          }
          ContentInfo {
            Title: "El Problema"
          }
          BiometryOptions {
            UserId: "1083955728"
          }
        }
        History {
          TrackId: "71335767"
          Title: "El Problema"
          CoverUrl: "avatars.yandex.net/get-music-content/2441215/d61b4cef.a.12734344-1/%%"
          UrlInfo {
            Url: "https://storage.mds.yandex.net/get-alice/1767326_2d5b888c.111011378.9.71335767/320?sign=6fb97d2b033258aa2ad82c7bea7c4ec2a4f6fb35c9b3f28b0b72c59039c6265d&ts=62a2497e&offset=21623"
            UrlTime: 1579488271002
            ExpiringAtMs: 1654802814771
          }
          PlayId: "nK2Lv7YkjNGp"
          DurationMs: 136150
          ContentWarning: Explicit
          Type: "music"
          TrackInfo {
            AlbumId: "12734344"
            AlbumTitle: "Транзит"
            Genre: "rusrap"
            ArtistId: "5781113"
            Artists {
              Name: "MORGENSHTERN"
              Id: "5781113"
            }
            Artists {
              Name: "Тимати"
              Id: "168857"
            }
            Available: true
            AvailableForPremiumUsers: true
            AlbumCoverUrl: "avatars.yandex.net/get-music-content/2441215/d61b4cef.a.12734344-1/%%"
            AlbumArtists {
              Name: "Тимати"
              Id: "168857"
            }
            LyricsInfo {
              HasAvailableSyncLyrics: true
              HasAvailableTextLyrics: true
            }
            AlbumYear: 2020
            AlbumLikes: 146
          }
          OriginContentId {
            Id: "71335767"
          }
          Normalization {
            IntegratedLoudness: -8.07
            TruePeak: 0.68
          }
        }
        CurrentContentLoadingState {
          Paged {
          }
        }
        Config {
          PageSize: 20
          HistorySize: 10
          ExplicitFilteredOutWarningRate: 0.25
          FindTrackIdxPageSize: 10000
        }
        FiltrationMode: Moderate
      }
      BiometryUserId: "1083955728"
    }
  }
  AnalyticsInfo {
    Intent: "personal_assistant.scenarios.music_play"
    Actions {
      Id: "music_play"
      Name: "music play"
      HumanReadable: "Первый трек, который включится"
    }
    Objects {
      Id: "music.first_track_id"
      Name: "first_track_id"
      HumanReadable: "MORGENSHTERN, Тимати, трек \"El Problema\""
      FirstTrack {
        Id: "71335767"
        Genre: "rusrap"
        Duration: "136150"
      }
    }
    Events {
      Timestamp: 1579488271002000
      SelectedWebDocumentEvent {
        SearchType: "music_web_search"
        RequestId: "32e19e02-a0c5-562e-aac3-94dabbadoo00"
        SearchRequestId: "1654799214191867-12566357290274819381-sas1-4786-sas-http-adapter-web-ha-f94-12775-BAL-1308"
        DocumentUrl: "https://music.yandex.ru/album/12142187/track/71335767"
        AnswerUrl: "https://music.yandex.ru/album/12734344/track/71335767/?from=alice&mob=0"
      }
    }
    Events {
      Timestamp: 1579488271002000
      RequestSourceEvent {
        Source: "music_web_search"
        CGI {
          key: "text"
          value: "el problema host:music.yandex.ru"
        }
        Headers {
          key: "X-Yandex-Alice-Meta-Info"
          value: "CidwZXJzb25hbF9hc3Npc3RhbnQuc2NlbmFyaW9zLm11c2ljX3BsYXkSpwEKFHJ1LnlhbmRleC5xdWFzYXIuYXBwEgMxLjAaBTYuMC4xIgdhbmRyb2lkKiRkZWFkYmVlZi1kZWFkLWJlZWYtMTIzNC1kZWFkYmVlZjEyMzQyJGZlZWRmYWNlLWU4YTItNDQzOS1iMmU3LTY4OWQ5NWYyNzdiNzoFcnUtUlVCDzIwMjAwMTIwVDAyNDQzMUoAUgoxNTc5NDg4MjcxWgBiBllhbmRleCIjCgzQstC60LvRjtGH0LgKAmVsCghwcm9ibGVtYRIFCgMAAQIqAA,,"
        }
        ResponseCode: 200
        ResponseSuccess: true
      }
    }
    Events {
      Timestamp: 1579488271002000
      SelectedSourceEvent {
        Source: "web"
      }
    }
    Events {
      Timestamp: 1579488271002000
      MusicEvent {
        AnswerType: Track
        Id: "71335767"
        Uri: "https://music.yandex.ru/album/12734344/track/71335767/?from=alice&mob=0"
      }
    }
    Events {
      Timestamp: 1579488271002000
      MusicMonitoringEvent {
        BatchOfTracksRequested: true
      }
    }
    ProductScenarioName: "music"
    NlgRenderHistoryRecords {
      TemplateName: "music_play"
      PhraseName: "render_result"
      Language: L_RUS
    }
  }
  StackEngine {
    Actions {
      NewSession {
      }
    }
    Actions {
      ResetAdd {
        Effects {
          Callback {
            Name: "music_thin_client_next"
          }
        }
        RecoveryAction {
          Callback {
            Name: "music_thin_client_recovery"
            Payload {
              fields {
                key: "paged"
                value {
                  struct_value {
                  }
                }
              }
              fields {
                key: "playback_context"
                value {
                  struct_value {
                    fields {
                      key: "biometry_options"
                      value {
                        struct_value {
                          fields {
                            key: "user_id"
                            value {
                              string_value: "1083955728"
                            }
                          }
                        }
                      }
                    }
                    fields {
                      key: "content_id"
                      value {
                        struct_value {
                          fields {
                            key: "id"
                            value {
                              string_value: "71335767"
                            }
                          }
                        }
                      }
                    }
                    fields {
                      key: "content_info"
                      value {
                        struct_value {
                          fields {
                            key: "title"
                            value {
                              string_value: "El Problema"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
Version: "trunk@******"
