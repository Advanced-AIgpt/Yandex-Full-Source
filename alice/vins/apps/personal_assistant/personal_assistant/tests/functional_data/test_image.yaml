mock_intents:
- personal_assistant.scenarios.image_what_is_this__details
- personal_assistant.scenarios.image_what_is_this__clothes_forced
- personal_assistant.scenarios.image_what_is_this__market
- personal_assistant.scenarios.image_what_is_this__ocr
- personal_assistant.scenarios.image_what_is_this__similar
- personal_assistant.scenarios.image_what_is_this_similar_people
- personal_assistant.scenarios.image_what_is_this_frontal
- personal_assistant.scenarios.image_what_is_this_frontal_similar_people

labels:
  porn: ".*Какие вы.*затейники.*|.*я бы зажмурилась.*|.*У вас всё.*в порядке.*|.*вы\
    \ ошиблись адресом.*|.*котиков посмотрела.*|.*Осторожнее.*|Как грубо.|О вкусах\
    \ не спорят.|.*Я бы покраснела.*|.*Вы не перестаете меня удивлять.*|.*Сами снимали.*|.*я\
    \ этого не видела.*|Медицина тут бессильна.|За кого вы меня принимаете.*|Если\
    \ вы хотите меня удивить, лучше.*|Что естественно, то не постыдно.*|.*вы мне этого\
    \ не показывали.*|.*за что мне такая работа.*"
  perversion: ".*это развидеть.*|.*Ну спасибо.*|.*устойчивая психика.*|.*Я думала,\
    \ мы друзья.*|Кошмар.|Ужас.|Жесть.|.*за что мне такая работа.*"
  dark: ".*(Н|н)ичего.*не видно.*|Темновато.|.*Очень темно.*|.*Черный квадрат.*"
  people: "Сколько людей.*|Людей так много.*|В мире так много людей.*|.* кто-то из\
    \ списка ниже.|.* кого я нашла.|Нашла .* людей.*|Вдруг вам кто-то знаком.*|.*\
    \ кто нашёлся .*|.* искать людей.|Люди ищут людей.*"
  face: ".*люди.*не получаются.*|Отличный ракурс.|Я бы прислала вам свою фотографию.*|Люблю\
    \ людей.|.*как симпатично.|Люди красивые.|Поздравляю, .*|Улыбочку.|.*мы где-то\
    \ виделись.*|.*мне нравится.|Щёлк.|Я бы сделала выставку.*|Повесила в рамку.*|.*Это\
    \ здорово.|Красиво, душевно.|Фотография 9 на 12.*|С душой снято.|Цвета что надо."
  ocr_text: ".*Это текст.*|Вижу текст.*|.* что тут написано.|Тут что-то написано.*"
  ocr_no_text: "Странно, но я не вижу текста на этой картинке. Либо он написан невидимыми чернилами, либо вы выбрали не тот режим. Попробуйте еще раз"
  cannot_recognize: ".*что здесь изображено.*|Не могу понять что это."
  simple_tag: "котик"
  anaphora_tag: "Дональд Трамп"
  tag: "({simple_tag}|{anaphora_tag})"
  tag_tiny: "(Вероятность, как говорится, крайне мала. Но возможно, это {tag}|Я, конечно,\
    \ ничего не утверждаю. Но вроде это {tag}|Меня терзают смутные сомнения. Но пусть\
    \ будет {tag}|Включаю интуицию на максимум. Кажется, это {tag}|Вообще я умная.\
    \ Но тут прямо сложновато. Кажется, это {tag})."
  tag_low: "(Не уверена, но очень похоже, что это {tag}|Если я не ошибаюсь, на картинке\
    \ {tag}|Могу ошибаться, но кажется, что это {tag}|Насколько я могу судить, перед\
    \ нами — {tag})."
  tag_medium: "(Кажется, это {tag}|Мне кажется, что это {tag}|Подозреваю, что это\
    \ {tag}|Вроде бы на картинке {tag}|Похоже, это {tag}|Вроде бы это {tag})."
  tag_high: "(Это {tag}|Да это же {tag}|О! Это {tag}|Выглядит как {tag}|Сдаётся мне,\
    \ что это {tag})."
  market: ".*(похожее|похожего|какие варианты).*Яндекс.Маркете.*|На Яндекс.Маркете.*"
  market_and_tag: "{tag_high}.*{market}"
  joke: "(Где-то прочла|Видела где-то|Говорят|Наводит на мысли|Интернет подсказывает):"
  barcode_text: "yandex.ru"
  barcode: ".*здесь зашифровано: {barcode_text}|.*тут: {barcode_text}"
  similar: ".*похожие картинки.*|.*картинки похожие.*"
  looking: "Дайте посмотреть|Сейчас пригляжусь|Покажите|Дайте посмотреть поближе"
  clothes: ".*(вещи|ещё вот это|ещё кое-что).*"
  only_clothes: ".*((н|Н)ашла|Разложила на модные составляющие|Стилист Алиса. Обращайтесь\
    \ в любое время).*"
  crop_market_response: ".*(нашлось на Маркете|На Маркете есть|Я нашла.*на Маркете).*"
  crop_similar_response: ".*((н|Н)е нашла|не нашлось|сейчас нет).*"
  elari_watch_not_supported: ".*Но я научусь, обещаю.*|Я обязательно научусь это делать.*"
  details_no: "Вот с этим уже посложнее.*|У меня нет ответа.|С этим помочь не смогу.|Не\
    \ могу ответить.*|Не осилила.|Тяжеловато.*"
  negative_feedback_submited: "Вот оно что.*|Спасибо, .*"
  similar_leonardo: "Леонардо Ди Каприо"
  similar_people: "Показалось, что это {similar_leonardo}|Ого! Почти {similar_leonardo}.|Как\
    \ будто {similar_leonardo}. Но это не точно.|Я могла бы сказать, что это {similar_leonardo}.\
    \ Но нет, просто есть что-то общее.|Напоминает одну известную личность.|Есть у них что-то общее.|Эти\
    \ черты мне кое-кого напомнили.|Кажется, есть что-то общее."
  ocr_voice: "Здесь написано:|На фотографии следующий текст:|Зачитываю:"
  ocr_voice_no_text: "Не нашла текст на изображении|Не увидела текста на изображении. Попробуйте перефотографировать|Упс, не нашла текста; Давайте попробуем другое фото|Кажется, здесь нет текста. Попробуйте перефотографировать"
  ocr_voice_foreign_text: "С этим сложнее. Пока я могу прочитать тексты только на русском и английском языке|К сожалению, я могу прочитать тексты только на русском и английском языке|Давайте попробуем повторить с текстом на русском или английском языке"
  ocr_voice_swear: "Нет, с этим как нибудь сами|Я не буду зачитывать это|Обидеть бота может каждый|Давайте попробуем прочитать что-нибудь еще"
  office_lens: "Подготовила отсканированное изображение|Вот кадрированная, и улучшенная версия вашего фото|Обрезанный и улучшенный вариант изображения, готов|Сделала для вас выровненный вариант|Выпрямила и выровняла фотографию для вас"

image_recognizer_request:
  experiments: [image_recognizer_similar_people, image_recognizer_similar_artwork]
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    blocks:
    - type: command
      command_type: start_image_recognizer
      command_sub_type: some_start_image_recognizer
      data: null
  dialog:
    что изображено на картинке?:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    что здесь изображено?:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    что на картинке?:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    на кого я похож?:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    на кого он похож?:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    включи фронтальную камеру:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    зачитай текст:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    распознай qr код:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    переведи текст на картинке:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null
    на какую картину это похоже:
      text: '{looking}'
      directives:
      - name: start_image_recognizer
        sub_name: some_start_image_recognizer
        type: client_action
        payload: null


image_recognizer_porn:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_binary_porn: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{porn}'
  - request:
      type: text_input
      text: 'распознай текст'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__ocr
      bass:
        form:
          answer:
            value:
              is_binary_porn: false
              cannot_apply_ocr: true
      text: '{ocr_no_text}'

  app_info:
    ignore:
    - watch


image_recognizer_market:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          has_market_gallery: true
          fast_ocr: "Any"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
    - type: suggest
      suggest_type: image_what_is_this__all_market_deals
      data:
        uri: "http://open-market-result.com"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{market}'
      button_actions:
      - name: open_uri
        title: 'ИСКАТЬ НА ЯНДЕКС.МАРКЕТЕ'
        payload:
          uri: "http://open-market-result.com"
  - request:
      type: text_input
      text: 'что тут написано'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__ocr
      bass:
        blocks:
        - type: command
          command_type: open_uri
          command_sub_type: some_image_open_uri
          data:
            uri: "yellowskin://some-ocr-uri"
      directives:
      - name: open_uri
        sub_name: some_image_open_uri
        type: client_action
        payload:
          uri: "yellowskin://some-ocr-uri"

  app_info:
    ignore:
    - watch
    - navigator_android
    - navigator_ios
    - auto


image_recognizer_market_with_tag:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          has_market_gallery: true
          tag: "котик"
          tag_confidence: "High"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{market_and_tag}'


image_recognizer_tag_tiny:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: "котик"
          tag_confidence: "Tiny"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{tag_tiny}'

image_recognizer_tag_low:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: "котик"
          tag_confidence: "Low"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{tag_low}'

image_recognizer_tag_medium:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: "котик"
          tag_confidence: "Medium"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{tag_medium}'

image_recognizer_tag_high:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: "котик"
          tag_confidence: "High"
      search_results:
        value:
          serp:
            url: 'viewport://some-serp-url'
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{tag_high}'
  - request:
      type: text_input
      text: 'кто это'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__details
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this
        form:
          answer:
            value:
              tag: "котик"
              tag_confidence: "High"
      text: '{tag_high}'

  app_info:
    ignore:
    - watch


image_recognizer_perversion:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_perversion: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{perversion}'


image_recognizer_dark:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_dark: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{dark}'


image_recognizer_face:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_face: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{face}'


image_recognizer_ocr_text:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_ocr_text: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
    - type: suggest
      suggest_type: image_what_is_this__open_ocr_result
      data:
        uri: "http://open-ocr-result.com"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{ocr_text}'
      button_actions:
      - name: open_uri
        title: 'НАЙТИ И ПЕРЕВЕСТИ ТЕКСТ'
        payload:
          uri: "http://open-ocr-result.com"

  app_info:
    ignore:
    - navigator_android
    - navigator_ios
    - auto


image_recognizer_joke:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          joke: "Очень смешная шутка."
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{joke} "Очень смешная шутка."'


image_recognizer_barcode_uri:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          barcode_uri: "yandex.ru"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
    - type: suggest
      suggest_type: image_what_is_this__open_barcode_uri
      data:
        uri: "yandex.ru"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{barcode}'
      button_actions:
      - name: open_uri
        title: 'ПЕРЕЙТИ НА САЙТ'
        payload:
          uri: "yandex.ru"

  app_info:
    ignore:
    - navigator_ios
    - navigator_android
    - auto


image_recognizer_barcode_text:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          barcode_text: "yandex.ru"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: '{barcode}'


image_recognizer_easter_egg:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          easter_egg: "Очень смешная шутка."
      search_results:
        value:
          object:
            tts: "По данным русской википедии: Райан Гослинг - Канадский киноактёр."
            text: "Гослинг Райан Томас — Канадский киноактёр. Двукратный номинант\
              \ на премию «Оскар», лауреат премии «Золотой глобус»"
            url: "http://ru.wikipedia.org/wiki/Гослинг, Райан"
          serp:
            url: "viewport://?noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp"
          image_serp:
            url: "yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc"
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: 'Очень смешная шутка.'


image_recognizer_switch_intents:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    blocks:
    - type: suggest
      suggest_type: image_what_is_this__similar
    - type: suggest
      suggest_type: image_what_is_this__clothes
    - type: suggest
      suggest_type: image_what_is_this__market
    - type: suggest
      suggest_type: image_what_is_this__tag
    - type: suggest
      suggest_type: image_what_is_this__ocr
    - type: suggest
      suggest_type: image_what_is_this__ocr_voice
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      suggests:
      - caption: Похожие картинки
        utterance: Покажи похожие картинки
      - caption: Похожая одежда
        utterance: Найди похожую одежду
      - caption: Похожие товары
        utterance: Найди похожие товары
      - caption: Что это?
        utterance: Что это?
      - caption: Распознанный текст
        utterance: Распознай текст
      - caption: Зачитай этот текст
        utterance: Зачитай этот текст
  - request:
      type: text_input
      text: 'похожие товары'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__market
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this
  - request:
      type: text_input
      text: 'найди одежду'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__clothes_forced
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this
  - request:
      type: text_input
      text: 'зачитай этот текст'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__ocr_voice_suggest
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this_ocr_voice
  - request:
      type: text_input
      text: 'что здесь изображено'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this

  app_info:
    ignore:
    - speaker
    - dexp
    - auto
    - navigator_ios
    - irbis
    - navigator_android
    - watch
    - pa_ios
    - pa_android
    - desktop_alice


image_recognizer_similar_result:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_similar: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
    - type: suggest
      suggest_type: image_what_is_this__open_similar_search
      data:
        uri: "http://open-similar-search.com"
    - type: suggest
      suggest_type: image_what_is_this__open_search
      data:
        uri: "http://open-search.com"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{similar}'
      button_actions:
      - name: open_uri
        title: 'ПОСМОТРЕТЬ ПОХОЖИЕ КАРТИНКИ'
        payload:
          uri: "http://open-similar-search.com"
      - name: open_uri
        title: 'НАЙТИ ЭТО В ЯНДЕКСЕ'
        payload:
          uri: "http://open-search.com"
  - request:
      type: text_input
      text: 'что это'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__details
      bass:
        form_name: personal_assistant.scenarios.image_what_is_this
      text: '{similar}'
  - request:
      type: text_input
      text: 'покажи похожие картинки'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this__similar
      bass:
        form:
          answer:
            value:
              is_similar: false
              similar_ellipsis: true
        blocks:
        - type: command
          command_type: open_uri
          command_sub_type: some_image_open_uri
          data:
            uri: "yellowskin://open-similar-search.com"
      directives:
      - name: open_uri
        sub_name: some_image_open_uri
        type: client_action
        payload:
          uri: "yellowskin://open-similar-search.com"
      text: "Открываю страничку с похожими картинками."

  app_info:
    ignore:
    - navigator_ios
    - navigator_android
    - auto
    - watch


image_recognizer_entity_search_result:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      search_results:
        value:
          object:
            tts: "По данным русской википедии: Райан Гослинг - Канадский киноактёр."
            text: "Гослинг Райан Томас — Канадский киноактёр. Двукратный номинант\
              \ на премию «Оскар», лауреат премии «Золотой глобус»"
            url: "http://ru.wikipedia.org/wiki/Гослинг, Райан"
          serp:
            url: "viewport://?noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp"
          image_serp:
            url: "yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc"
    blocks:
    - type: div_card
      card_template: image_search_object
      data:
        title: "Райан Гослинг"
        tts: "По данным русской википедии: Райан Гослинг - Канадский киноактёр."
        text: "Канадский киноактёр. Двукратный номинант на премию «Оскар», лауреат\
          \ премии «Золотой глобус»"
        image:
          h: 120
          w: 120
          src: "https://avatars.mds.yandex.net/get-entity_search/44099/105211082/S120x120Face"
        image_serp_url: "yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc"
        url: "http://ru.wikipedia.org/wiki/Гослинг, Райан"
        serp_url: "viewport://?entref=&noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      voice: 'По данным русской википедии: Райан Гослинг - Канадский киноактёр.'


image_recognizer_similar_people_result:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  experiments: [image_recognizer_similar_people]
  dialog:
  - request:
      type: image_input
      payload:
          data:
            img_url: "https://avatars.mds.yandex.net/get-alice/somy-funny-img"
    response:
      bass:
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: similar_people
          data:
            title: "Актер Леонардо Ди Каприо"
            text: "Американский актер и продюсер. Лауреат премии \"Оскар\""
            url: "https://www.wikipedia.org"
            image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
            name: "Леонардо Ди Каприо"
            image_url: "https://avatars.mds.yandex.net/get-alice/view-some-funny-img"
        form:
          answer:
            value:
              is_similar_people: true
              name: "Леонардо Ди Каприо"
      voice: "{similar_people}"



image_recognizer_people_result:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              has_people_gallery: true
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: image__people_gallery
          data:
            people_gallery:
            - age: 42
              avatar: "https://avatars.mds.yandex.net/some-avatar"
              geo: null
              link: 'http://link-to-social-network.ru'
              name: "USER NAME"
              network: "odnoklassniki"
            market_buy_ico: ''
      text: '{people}'
      cards:
      - simple_text
      - div_card


image_recognizer_clothes_result:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              tag: "котик"
              tag_confidence: "High"
              clothes_crops:
              - category: сапоги
                category_id: 22
                crop_orig: "0;0;1;1"
                image: "https://avatars.mds.yandex.net/get-alice/some-funny-img/0"
              query_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
              clothes_original_image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: image__clothes_gallery
      text: '{tag_high}{clothes}'
      cards:
      - simple_text
      - div_card
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              clothes_crops:
              - category: сапоги
                category_id: 22
                crop_orig: "0;0;1;1"
                image: "https://avatars.mds.yandex.net/get-alice/some-funny-img/0"
              query_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
              clothes_original_image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: image__clothes_gallery
      text: '{only_clothes}'
      cards:
      - simple_text
      - div_card
  - request:
      type: server_action
      name: update_form
      payload:
        form_update:
          name: personal_assistant.scenarios.image_what_is_this__clothes
          slots:
          - type: crop
            name: selected_clothes_crop
            value:
              category: сапоги
              category_id: 22
              crop_orig: "0;0;1;1"
              image: "https://avatars.mds.yandex.net/get-alice/some-funny-img/0"
              original_image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
            optional: true
        resubmit: true
    response:
      bass:
        form:
          answer:
            value:
              has_market_gallery: true
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: image__market_gallery
          data:
            market_gallery:
            - image: 'http://market-image.jpg'
              price: '1000'
              currency: 'RUR'
              title: 'Сапоги +1'
              green_url: 'http://link-to-store.ru'
              link: 'http://link-to-market.ru'
            market_buy_ico: ''
      text: '{crop_market_response}'
      cards:
      - simple_text
      - div_card
  - request:
      type: server_action
      name: update_form
      payload:
        form_update:
          name: personal_assistant.scenarios.image_what_is_this__clothes
          slots:
          - type: crop
            name: selected_clothes_crop
            value:
              category: сапоги
              category_id: 22
              crop_orig: "0;0;1;1"
              image: "https://avatars.mds.yandex.net/get-alice/some-funny-img/1"
              original_image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
            optional: true
        resubmit: true
    response:
      bass:
        form:
          answer:
            value:
              has_similar_gallery: true
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: suggest
          suggest_type: image_what_is_this__open_similar_search
          data:
            uri: "http://open-similar-search.com"
        - type: div_card
          card_template: image__similar_gallery
          data:
            similar_gallery:
            - image: 'http://similar-image.jpg'
              link: 'http://link-to-image-host.ru'
      text: '{crop_similar_response}'
      button_actions:
      - name: open_uri
        title: 'ПОСМОТРЕТЬ ПОХОЖИЕ КАРТИНКИ'
        payload:
          uri: "http://open-similar-search.com"
      cards:
      - div_card
  app_info:
    ignore:
    - navigator_ios
    - speaker
    - dexp
    - watch
    - navigator_android
    - irbis
    - auto


image_recognizer_clothes_tabs_gallery:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              clothes_crops:
              - category: сапоги
                category_id: 22
                crop_orig: "0;0;1;1"
                image: "https://avatars.mds.yandex.net/get-alice/some-funny-img/0"
              query_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
              clothes_original_image: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: div_card
          card_template: image__clothes_tabs_gallery
          data:
          - category: 'обувь'
            gallery:
              market_gallery:
              - image: 'http://market-image.jpg'
                price: '1000'
                currency: 'RUR'
                title: 'Сапоги +1'
                green_url: 'http://link-to-store.ru'
                link: 'http://link-to-market.ru'
      text: '{only_clothes}'
      cards:
      - simple_text
      - div_card
  app_info:
    ignore:
    - navigator_ios
    - speaker
    - dexp
    - watch
    - navigator_android
    - irbis
    - auto


image_entity_anaphora:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      search_results:
        value:
          object:
            tts: 'По данным русской википедии: Райан Гослинг - Канадский киноактёр.'
            text: 'Гослинг Райан Томас — Канадский киноактёр. Двукратный номинант
              на премию «Оскар», лауреат премии «Золотой глобус»'
            url: 'http://ru.wikipedia.org/wiki/Гослинг, Райан'
          serp:
            url: 'viewport://?noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp'
          image_serp:
            url: 'yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc'
    blocks:
    - type: div_card
      card_template: image_search_object
      data:
        title: 'Райан Гослинг'
        tts: 'По данным русской википедии: Райан Гослинг - Канадский киноактёр'
        text: 'Канадский киноактёр. Двукратный номинант на премию «Оскар», лауреат
          премии «Золотой глобус»'
        image:
          h: 120
          w: 120
          src: 'https://avatars.mds.yandex.net/get-entity_search/44099/105211082/S120x120Face'
        image_serp_url: 'yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc'
        url: 'http://ru.wikipedia.org/wiki/Гослинг, Райан'
        serp_url: 'viewport://?entref=&noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp'
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: 'https://avatars.mds.yandex.net/get-alice/some-funny-img'
    response:
      voice: 'По данным русской википедии: Райан Гослинг - Канадский киноактёр.'
  - request:
      type: text_input
      text: 'когда он родился'
    response:
      vins_form:
        name: personal_assistant.scenarios.search_anaphoric
        slots:
          query:
            value: 'когда райан гослинг родился'


image_tag_anaphora:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: 'Дональд Трамп'
          tag_confidence: 'Tiny'
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: 'https://avatars.mds.yandex.net/get-alice/some-funny-img'
    response: '{tag_tiny}'
  - request:
      type: text_input
      text: 'когда он родился'
    response:
      vins_form:
        name: personal_assistant.scenarios.search_anaphoric
        slots:
          query:
            value: 'когда дональд трамп родился'


image_entity_with_easter_egg_anaphora:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  app_info:
    ignore:
    - navigator_ios
    - speaker
    - dexp
    - watch
    - navigator_android
    - irbis
    - auto
  bass:
    form:
      answer:
        value:
          easter_egg: 'Очень смешная шутка.'
      search_results:
        value:
          object:
            tts: 'По данным русской википедии: Райан Гослинг - Канадский киноактёр.'
            text: 'Гослинг Райан Томас — Канадский киноактёр. Двукратный номинант
              на премию «Оскар», лауреат премии «Золотой глобус»'
            url: 'http://ru.wikipedia.org/wiki/Гослинг, Райан'
          serp:
            url: 'viewport://?noreask=1&text=%D0%A0%D0%B0%D0%B9%D0%B0%D0%BD%20%D0%93%D0%BE%D1%81%D0%BB%D0%B8%D0%BD%D0%B3&viewport_id=serp'
          image_serp:
            url: 'yellowskin://?url=https%3A//yandex.ru/images/touch/search%3Falice_source%3Dsimilar%26app_id%3Dru.yandex.searchplugin/10.21+%28None+None;+android+8.0%29%26appsearch_header%3D1%26cbir_id%3D932566/a4gq1K1y6dMWYoUo6GC_Xw%26l10n%3Dru%26lang%3Dru-RU%26rpt%3Dimageview%26uuid%3D6c535a9605f611e8b8aa26678580dcfc'
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response: 'Очень смешная шутка.'
  - request:
      type: text_input
      text: 'когда он родился'
    response:
      vins_form:
        name: personal_assistant.scenarios.search_anaphoric
        slots:
          query:
            value: 'когда райан гослинг родился'


image_recognizer_ocr_voice:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_ocr_voice: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{ocr_voice}'
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              ocr_voice_no_text: true
              is_ocr_voice: false
      text: '{ocr_voice_no_text}'
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              is_ocr_foreign_text: true
              is_ocr_voice: false
      text: '{ocr_voice_foreign_text}'
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      bass:
        form:
          answer:
            value:
              ocr_voice_swear: true
              is_ocr_voice: false
      text: '{ocr_voice_swear}'
  app_info:
    ignore:
    - navigator_ios
    - speaker
    - dexp
    - watch
    - navigator_android
    - irbis
    - auto

image_recognizer_office_lens:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          is_office_lens: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      text: '{office_lens}'


test_elari_watch:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  app_info:
    app_id: 'ru.yandex.iosdk.elariwatch.test'
    app_version: '1.0'
    os_version: '4.0'
    platform: 'android'
  bass:
    blocks:
    - type: error
      data:
        code: unsupported_operation
      error:
        type: imageerror
        msg: 'error'
  dialog:
    определи что на фотке: '{elari_watch_not_supported}'


feedback_negative_unwanted:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  bass:
    form:
      answer:
        value:
          tag: 'Дональд Трамп'
          tag_confidence: 'Tiny'
          has_market_gallery: true
    blocks:
    - type: text_card
      phrase_id: render_text_card_result
    - type: suggest
      suggest_type: feedback__positive
      form_update:
        name: 'personal_assistant.feedback.feedback_positive'
    - type: suggest
      suggest_type: feedback__negative
      form_update:
        name: 'personal_assistant.feedback.feedback_negative_images'
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: 'https://avatars.mds.yandex.net/get-alice/some-funny-img'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this
      bass:
        form:
          answer:
            value:
              tag: 'Дональд Трамп'
              tag_confidence: 'Tiny'
              has_market_gallery: true
        blocks:
        - type: text_card
          phrase_id: render_text_card_result
        - type: suggest
          suggest_type: feedback__positive
          form_update:
            name: personal_assistant.feedback.feedback_positive
        - type: suggest
          suggest_type: feedback__negative
          form_update:
            name: personal_assistant.feedback.feedback_negative_images

      suggests:
      - type: feedback__positive
        directive: update_form
        payload:
          resubmit: false
          form_update:
            name: personal_assistant.feedback.feedback_positive
      - type: feedback__negative
        directive: update_form
        payload:
          resubmit: false
          form_update:
            name: personal_assistant.feedback.feedback_negative_images

  - request:
      type: server_action
      name: update_form
      payload:
        form_update:
          name: personal_assistant.feedback.feedback_negative_images
        resubmit: false
    response:
      vins_form:
        name: personal_assistant.feedback.feedback_negative_images
      bass:
        form:
          answer:
            value:
              tag: 'Дональд Трамп'
              tag_confidence: 'Tiny'
              has_market_gallery: true
        blocks:
        - type: suggest
          suggest_type: feedback_negative_images__tag_wrong
          form_update:
            name: personal_assistant.feedback.feedback_negative_images__confirm
        - type: suggest
          suggest_type: feedback_negative_images__market_poor
          form_update:
            name: personal_assistant.feedback.feedback_negative_images__confirm
        - type: suggest
          suggest_type: feedback_negative__other
          form_update:
            name: personal_assistant.feedback.feedback_negative__other

      suggests:
      - type: feedback_negative_images__tag_wrong
        caption: "Объект распознан неверно"
        directive: update_form
        payload:
          resubmit: false
          form_update:
            name: personal_assistant.feedback.feedback_negative_images__confirm
      - type: feedback_negative_images__market_poor
        caption: "Товары не похожи на то, что мне нужно"
        directive: update_form
        payload:
          resubmit: false
          form_update:
            name: personal_assistant.feedback.feedback_negative_images__confirm
      - type: feedback_negative__other
        caption: "Другое"
        directive: update_form
        payload:
          resubmit: false
          form_update:
            name: personal_assistant.feedback.feedback_negative__other

  - request:
      type: server_action
      name: update_form
      payload:
        form_update:
          name: personal_assistant.feedback.feedback_negative_images__confirm
        resubmit: false
    response:
      vins_form:
        name: personal_assistant.feedback.feedback_negative_images__confirm
      text: "{negative_feedback_submited}"

  app_info:
    ignore:
    - navigator_ios
    - speaker
    - pa_ios
    - dexp
    - watch
    - navigator_android
    - irbis
    - desktop_alice
    - pa_android
    - auto


feedback_special_buttons:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  experiments: [builtin_feedback]
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: 'https://avatars.mds.yandex.net/get-alice/some-funny-img'
    response:
      vins_form:
        name: personal_assistant.scenarios.image_what_is_this
      bass:
        blocks:
        - type: client_features
          data:
            features:
              builtin_feedback:
                enabled: true
        - type: special_button
          button_type: feedback_negative
          data:
            sub_list:
            - feedback_negative__bad_answer
            - feedback_negative_images__unsimilar
            - feedback_negative_images__useless
            - feedback_negative__other
      special_buttons:
      - text: 'Нравится'
      - text: 'Не нравится'
        sub_list:
        - 'Не нравится: ответ не соответствует запросу'
        - 'Не нравится: непохожие картинки'
        - 'Не нравится: ответ бесполезен'
        - 'Не нравится: проблема в другом'
  app_info:
    ignore:
    - navigator_ios
    - speaker
    - dexp
    - navigator_android
    - irbis
    - auto


image_recognizer_intent_buttons_what_ocr_market:
  flags:
    skip:
      value: true
      reason: 'Scenario in irrelevant list'
  experiments: [image_recognizer_intent_buttons]
  bass:
    blocks:
    - type: div_card
      card_template: image__alternative_intents
      data:
        buttons:
        - id: image_what_is_this__details
          icon: "intent-what-button-icon"
        - id: image_what_is_this__ocr
          icon: "intent-ocr-button-icon"
        - id: image_what_is_this__market
          icon: "intent-market-button-icon"
  dialog:
  - request:
      type: image_input
      payload:
        data:
          img_url: "https://avatars.mds.yandex.net/get-alice/some-funny-img"
    response:
      cards:
      - div_card
