labels:
  show_alarms: ".*список будильников.*|.*ваши будильники.*"
  alarm_list: "1. на завтра в 07:30\n2. по средам в 8 часов утра"
  elari_watch_not_supported: ".*(не умею|скоро научусь) заводить будильник в этих\
    \ часах.*|Я пока не умею.*"
  alarms_not_implemented: "(Я вас обязательно разбужу. Когда научусь.|Меня ещё этому\
    \ не научили.|Здесь пока не умею.|Ещё не время. Шутка, пока не умею.|Я этому научусь.\
    \ Пока времени нет.)"
  unsupported_target: "Я пока не умею ставить .* на будильник. Зато могу поставить .*."
  bad_arguments: "Я могу поставить будильник на ближайшие 24 часа. А еще могу поставить повторяющийся будильник\
    \ на выбранный день недели."
  repeat: "на повторе|на репите"
  set_sound_phrase: "\
    Алиса, поставь энергичную музыку на будильник|\
    Алиса, разбуди меня песней Show Must Go On|\
    Алиса, поставь Beatles на будильник"
  how_to_set_sound: "(Я могу поставить на будильник любую песню, группу, радио или музыку для создания \
    определенного настроения. Скажите|Я могу поставить на будильник песню, группу или радиостанцию. Скажите, \
    например,|Стандартную мелодию можно заменить песней, группой или радиостанцией. Например, скажите) \
    \"{set_sound_phrase}\"."
  radio_ok: "Готово. Вас разбудит \"Радио 7\".|\"Радио 7\" — хороший выбор. Разбужу вас этой станцией."
  radio_ok_combo: "Вас разбудит \"Радио 7\"."
  radio_ok_inactive: "Поставила на будильник \"Радио 7\", но эта станция временно недоступна."
  music_ok: "Хорошо. Вас разбудит|Отличный выбор. Теперь на вашем будильнике|Запомнила. Вас разбудит|\
    Отличный выбор. Вас разбудит|Установила. На будильнике"
  music_ok_combo: "Вас разбудит"
  music_changed_target: "Так я ещё не умею. Зато могу поставить песню. Вас разбудит"
  radiohead_voice: "<\\[domain music\\]> Radiohead, песня \"No Surprises\" <\\[\\\/domain\\]>."
  radiohead_text: "Radiohead, альбом \"OK Computer OKNOTOK 1997 2017\", песня \"No Surprises\"."
  bathroom_playlist: "подборка \"Сад камней: дзен-плейлист для ванной\"."
  alarm_sound_voice: "На будильнике сто\\+ит|Вас разбудит" # w/o repeat and actual sound
  alarm_sound_text: "На будильнике стоит|Вас разбудит" # w/o repeat and actual sound
  reset_sound: "Возврат к исходному коду... То есть к стандартной мелодии.|Окей. Да будет стандартная мелодия.|\
    Новое — хорошо забытое старое. Вернула обычную мелодию.|Вернула всё как было.|Окей, вернула стандартную мелодию."
  radio_shazam: "(Чтобы проснуться под любимый трек, включите его и|Чтобы установить нужный трек на будильник,\
    \ попросите меня включить его. А потом) скажите: \"Алиса, разбуди меня этой песней\"."
  video_shazam: "(С видео такого не провернуть. Лучше попросите меня включить любой трек и|Увы, я справлюсь только\
    \ с музыкой. Попросите меня включить любой трек и) скажите: \"Алиса, разбуди меня этой песней\"."
  default_is_set: "(Будильник самый обычный. Хотите, я установлю на него песню, группу, радиостанцию или \
    музыку для определенного настроения\\? Скажите|Сейчас стандартная мелодия. Могу заменить её песней, группой или радиостанцией. Скажите, например,) \"{set_sound_phrase}\"."
  set_alarms: "А будильник нужно завести отдельно — я пока не умею ставить всё сразу.|\
    А время сигнала установите отдельно. Я пока не умею менять все настройки сразу."
  no_alarms: "Не забудьте завести будильник.|Только будильник завести не забудьте.|\
    Только сам будильник вы забыли установить. Переживаю."
  snooze: "Хорошо. Следующий будильник —|Окей. Разбужу вас|Ну ладно. Следующий будильник —"
  music_not_found: "\
    К сожалению, у меня нет такой музыки.|\
    Была ведь эта музыка у меня где-то... Не могу найти, простите.|\
    Как назло, именно этой музыки у меня нет.|\
    У меня нет такой музыки, попробуйте что-нибудь другое.|\
    Я не нашла музыки по вашему запросу, попробуйте ещё."
  music_not_found_combo: "\
    Но эту музыку я не нашла — попробуйте другую.|\
    К сожалению, этой музыки я не нашла — попробуйте другую."
  set_filters_genre: "Хорошо. Вас разбудит|Отличный выбор. Теперь на вашем будильнике"
  set_filters_genre_combo: "Вас разбудит"
  set_filters_activity: "Хорошо, вас разбудит музыка для|Окей. Поставила на будильник музыку для|\
    Поняла. Разбужу вас музыкой для"
  set_filters_activity_combo: "Вас разбудит музыка для|Разбужу вас музыкой для"
  set_personal: "Поставила вашу любимую музыку на будильник.|Хорошо, вас разбудят ваши любимые песни."
  set_personal_combo: "Поставила вашу любимую музыку.|Вас разбудят ваши любимые песни."
  personal_is_set: "(На будильнике стоят|Вас разбудят) ваши любимые песни."
  set_user_stream: "\
    Хорошо, поставила кое-что подходящее для вас.|\
    Хорошо, поставила кое-что в вашем стиле.|\
    Поставила песни, которые вам обычно нравятся."
  set_user_stream_combo: "\
    Вас разбудит кое-что в вашем стиле.|\
    Разбужу кое-чем подходящим для вас.|\
    Вас разбудят песни, которые вам обычно нравятся."
  user_stream_is_set: "(На будильнике стоит музыка|Я поставила музыку), которая должна вам понравиться."
  unconfigured_station: "Я ещё не настроилась на эту волну.|Я ещё не поймала эту волну.|\
    Я ещё не настроилась на эту радиостанцию."
  ask_time: "На какое время поставить будильник\\?"
  ask_sound: "Вы можете поставить на будильник свою любимую песню, группу или радиостанцию."
  ask_sound_music: "Какую музыку вы хотите установить на будильник\\?"
  ask_sound_radio: "Какое радио вы хотите установить на будильник\\?"
  sound_level_ask: "\
    Чтобы установить громкость будильника, скажите, например.*|\
    Для установки громкости будильника, скажите, к примеру.*|\
    Попробуйте сказать.*чтобы установить уровень громкости будильника.|\
    Скажите.*"
  sound_level_out_of_range: "Выберите число попроще: например, от 1 до 10|Так нельзя - уровень \
    должен быть от 1 до 10|Больше 10 или меньше 1 нельзя"
  sound_level_result: "(Хорошо|Готово|Как скажете), громкость будильника - "
  what_sound_level_is_set: "Громкость будильника"
  unsupported: "К сожалению, у меня нет доступа к будильникам на данном устройстве."

test_alarm_set:
  разбуди меня на тренировку в 6 утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
            period: am
    bass:
      form:
        time:
          value:
            hours: 6
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 6 часов утра{}"

  поставь будильник на 8:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 8
    bass:
      form:
        time:
          value:
            hours: 8
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 8 часов утра{}"

  поставь будильник на 7:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 7
    bass:
      form:
        time:
          value:
            hours: 19
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 19 часов{}"

  поставь будильник на 10 утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 10
            period: am
    bass:
      form:
        time:
          value:
            hours: 10
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 10 часов утра{}"

  поставь будильник на 15 0 0:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 15
            minutes: 0
    bass:
      form:
        time:
          value:
            hours: 15
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 15 часов{}"

  ещё один будильник на 8 30:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 8
            minutes: 30
    bass:
      form:
        time:
          value:
            hours: 8
            minutes: 30
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 08:30{}"

  поставь будильник на полночь:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          value:
            hours: 0
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на сегодня в 12 часов ночи{}"

  подъем десять тридцать:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 10
            minutes: 30

  заведи на 9 утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 9
            period: am

  будильник девятнадцать сорок один:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 19
            minutes: 41

  алиса не волнуйся разбуди меня через 10 минут:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            minutes: 10
            minutes_relative: true

  не волнуйся разбуди меня через 15 минут:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            minutes: 15
            minutes_relative: true

test_alarm_set_date_and_time:
  буди меня по понедельникам в 6 утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
            period: am
        date:
          value:
            weekdays: [1]
            repeat: true
    bass:
      form:
        time:
          value:
            hours: 6
        date:
          value:
            weekdays: [1]
            repeat: true
    text: "{}по понедельникам в 6 часов утра{}"

  поставь будильник на сегодня на 21 24:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 21
            minutes: 24
        date:
          value:
            days: 0
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 21
            minutes: 24
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 21:24{}"

  поставь будильник на шесть стоп стоп стоп:
    vins_form:
      name: personal_assistant.scenarios.alarm_set

  девять пятьдесят два будильника:
    vins_form:
      name: personal_assistant.scenarios.alarm_set

test_alarm_no_time:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на 7 30:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 7
            minutes: 30
    bass:
      form:
        time:
          value:
            hours: 7
            minutes: 30
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 07:30{}"
    voice: "{}на сегодня в #acc 7 часов #acc 30 минут{}"

test_alarm_no_time_2:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на 11 часов 2 минуты сегодня:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 11
            minutes: 2
        date:
          value:
            days: 0
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 11
            minutes: 2
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 11:02{}"
    voice: "{}на сегодня в #acc 11 часов #acc 2 минуты{}"

test_alarm_no_time_3:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  шестнадцать:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 16
    bass:
      form:
        time:
          value:
            hours: 16
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 16 часов{}"
    voice: "{}на сегодня в #acc 16 часов{}"

test_alarm_no_time_4:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  восемь утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 8
            period: am
    bass:
      form:
        time:
          value:
            hours: 8
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 8 часов утра{}"
    voice: "{}на сегодня в #acc 8 часов утра{}"

test_alarm_no_time_5:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  19 55:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 19
            minutes: 55
    bass:
      form:
        time:
          value:
            hours: 19
            minutes: 55
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 19:55{}"
    voice: "{}на сегодня в #acc 19 часов #acc 55 минут{}"

test_alarm_no_time_6:
  будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на 7 30:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 7
            minutes: 30

test_alarm_no_time_7:
  dialog:
    разбуди нас:
      vins_form:
        name: personal_assistant.scenarios.alarm_set

test_alarm_no_time_8:
  dialog:
    будильник алиса:
      vins_form:
        name: personal_assistant.scenarios.alarm_set

test_alarm_no_time_9:
  будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на два часа:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 2

test_alarm_no_time_10:
  будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на три часа:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 3

test_alarm_no_time_11:
  будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  двадцать три пятьдесят семь:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 23
            minutes: 57

test_alarm_no_time_12:
  dialog:
    какой будильник ты можешь поставить:
      vins_form:
        name: personal_assistant.scenarios.alarm_set

test_alarm_no_time_13:
  dialog:
    измени время будильника:
      vins_form:
        name: personal_assistant.scenarios.alarm_set

test_alarm_set_date:
  заведи будильник на завтра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        date:
          value:
            days: 1
            days_relative: true
    bass:
      form:
        date:
          value:
            days: 1
            days_relative: true
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на 8 вечера:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 8
            period: pm
        date:
          value:
            days: 1
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 20
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 20 часов{}"

  поставь будильник по понедельникам:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        date:
          value:
            weekdays: [1]
            repeat: true
    bass:
      form:
        date:
          value:
            weekdays: [1]
            repeat: true
        time:
          optional: false
    text: "{ask_time}"
    should_listen: true
  на 9:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        time:
          value:
            hours: 9
        date:
          value:
            weekdays: [1]
            repeat: true
    text: "{}по понедельникам в 9 часов утра{}"

  хочу будильник на среду:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        date:
          value:
            weekdays: [3]
            repeat: false
    bass:
      blocks:
      - type: error
        error:
          msg: msg
          type: alarmerror
        data:
          code: bad_arguments
    text: "{bad_arguments}"


test_alarm_set_numeric_date:
  flags:
    xfail:
      value: true
      reason: "'седьмое' normalized to 7"
  поставь будильник на седьмое:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        date:
          value:
            days: 7
    bass:
      form:
        date:
          value:
            days: 7
        time:
          optional: false
    text: "{ask_time}"

test_alarm_everyday:
  поставь будильник на шесть на каждый день:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
        date:
          value:
            weekdays: [1, 2, 3, 4, 5, 6, 7]
            repeat: true

  поставь ежедневный будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        date:
          value:
            weekdays: [1, 2, 3, 4, 5, 6, 7]
            repeat: true

test_alarm_set_day_part:
  поставь будильник на утро:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        day_part:
          value: morning
    bass:
      form:
        time:
          optional: false
      blocks:
      - type: attention
        attention_type: alarm__ask_time_for_day_part
        data:
          day_part_name: 'утро'
    text: "Утро - это во сколько?"

test_alarm_set_day_part_ellipsis:
  поставь будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
    bass:
      form:
        time:
          optional: false
    text: "{ask_time}"
  на утро:
    vins_form:
      name: personal_assistant.scenarios.alarm_set__ellipsis
      slots:
        day_part:
          value: morning
    bass:
      form:
        time:
          optional: false
      blocks:
      - type: attention
        attention_type: alarm__ask_time_for_day_part
        data:
          day_part_name: 'утро'
    text: "Утро - это во сколько?"

test_alarm_set_day_part_and_day_of_week:
  поставь будильник на утро в среду:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        day_part:
          value: morning
        date:
          value:
            weekdays: [3]
            repeat: false
    bass:
      blocks:
      - type: error
        error:
          msg: msg
          type: alarmerror
        data:
          code: bad_arguments
    text: "{bad_arguments}"

test_alarm_set_day_part_and_day_of_week_2:
  буди меня по утрам по средам:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        day_part:
          value: mornings
        date:
          value:
            weekdays: [3]
            repeat: true
    bass:
      form:
        time:
          optional: false
      blocks:
      - type: attention
        attention_type: alarm__ask_time_for_day_part
        data:
          day_part_name: 'утро'
    text: "Утро - это во сколько?"

test_alarm_set_day_part_day_of_week_and_time:
  поставь будильник на утро в среду в 7:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        day_part:
          value: morning
        date:
          value:
            weekdays: [3]
            repeat: false
        time:
          value:
            hours: 7
    bass:
      blocks:
      - type: error
        error:
          msg: msg
          type: alarmerror
        data:
          code: bad_arguments
    text: "{bad_arguments}"

test_alarm_set_verbless:
  будильник на 6 30 по будням:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
            minutes: 30
        date:
          value:
            weekdays: [1, 2, 3, 4, 5]
            repeat: true

  будильник в семь утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 7
            period: am

test_alarm_set_with_days_word:
  поставь будильник на 5 часов в будние дни:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 5
        date:
          value:
            weekdays: [1, 2, 3, 4, 5]
            repeat: false

  поставь будильник на 6 часов по будним дням:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
        date:
          value:
            weekdays: [1, 2, 3, 4, 5]
            repeat: true

  поставь будильник на 7 часов в рабочие дни:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 7
        date:
          value:
            weekdays: [1, 2, 3, 4, 5]
            repeat: false

  поставь будильник на 8 часов по рабочим дням:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 8
        date:
          value:
            weekdays: [1, 2, 3, 4, 5]
            repeat: true

  поставь будильник на 9 часов в выходные дни:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 9
        date:
          value:
            weekdays: [6, 7]
            repeat: false

  поставь будильник на 10 часов по выходным дням:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 10
        date:
          value:
            weekdays: [6, 7]
            repeat: true

test_alarm_cancel:
  выключи будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
    bass:
      form:
        time:
          value:
            hours: 7
            minutes: 30
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 07:30{}"

  отмени будильник на 10:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
      slots:
        time:
          value:
            hours: 10
    bass:
      form:
        time:
          value:
            hours: 22
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 22 часа{}"

  останови будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel

  алиса удали этот будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel

  останови все будильники:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
      slots:
        alarm_id:
          value: all

  отмена будильник семь тридцать:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
      slots:
        time:
          value:
            hours: 7
            minutes: 30

test_alarm_cancel_wrong_time:
  отмени будильник на 10:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
      slots:
        time:
          value:
            hours: 10
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
      blocks:
      - type: attention
        attention_type: alarm__no_alarms_for_time
    text: "Сейчас установлен только один будильник на завтра в 07:30, выключить его?"


test_alarm_cancel_ellipsis:
  выключи будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
          - time:
              hours: 8
              minutes: 00
            date:
              weekdays: [3]
              repeat: true
      blocks:
      - type: attention
        attention_type: alarm__multiple_alarms
    text: "Сейчас установлено несколько будильников:\n{alarm_list}\nКакой из них вы\
      \ хотите выключить?"
  выключи второй:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel__ellipsis
      slots:
        timer_id:
          value: 2
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
          - time:
              hours: 8
              minutes: 00
            date:
              weekdays: [3]
              repeat: true
    bass:
      form:
        time:
          value:
            hours: 8
            minutes: 00
        date:
          value:
            weekdays: [3]
            repeat: true
    text: "{}по средам в 8 часов утра{}"


test_alarm_show:
  покажи будильники:
    vins_form:
      name: personal_assistant.scenarios.alarm_show
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
    text: "У вас установлен будильник на завтра в 07:30."

  покажи мои будильники:
    vins_form:
      name: personal_assistant.scenarios.alarm_show
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
          - time:
              hours: 8
              minutes: 00
            date:
              weekdays: [3]
              repeat: true
      text: "У вас установлены следующие будильники:\n{alarm_list}"

  во сколько завтра мне вставать:
    vins_form:
      name: personal_assistant.scenarios.alarm_show

  а ты будильник завела:
    vins_form:
      name: personal_assistant.scenarios.alarm_show

  включи будильники установлены:
    vins_form:
      name: personal_assistant.scenarios.alarm_show

  включи настройки будильника:
    vins_form:
      name: personal_assistant.scenarios.alarm_show


test_alarm_show__ellipsis:
  dialog:
    покажи мои будильники:
      vins_form:
        name: personal_assistant.scenarios.alarm_show
      bass:
        form:
          available_alarms:
            value:
            - time:
                hours: 7
                minutes: 30
              date:
                days: 1
                days_relative: true
            - time:
                hours: 8
                minutes: 00
              date:
                weekdays: [3]
                repeat: true
        text: "У вас установлены следующие будильники:\n{alarm_list}"
    отмени первый:
      vins_form:
        name: personal_assistant.scenarios.alarm_show__cancel
        slots:
          timer_id:
            value: 1
          available_alarms:
            value:
            - time:
                hours: 7
                minutes: 30
              date:
                days: 1
                days_relative: true
            - time:
                hours: 8
                minutes: 00
              date:
                weekdays: [3]
                repeat: true
      bass:
        form:
          time:
            value:
              hours: 7
              minutes: 30
          date:
            value:
              days: 1
              days_relative: true
      text: "{}на завтра в 07:30{}"
  app_info:
    ignore:
    - watch


test_android:
  app_info:
    app_id: 'ru.yandex.searchplugin'
    app_version: '7.33'
    os_version: '8.0'
    platform: 'android'

  dialog:
  - request: установи будильник на 7
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set
        slots:
          time:
            value:
              hours: 7
      bass:
        blocks:
        - type: command
          command_type: alarm_new
        - type: attention
          attention_type: alarm__need_confirmation
      text: ""

  - request:
      type: server_action
      name: update_form
      payload:
        resubmit: true
        form_update:
          name: personal_assistant.scenarios.alarm_set
          slots:
          - type: time
            optional: false
            name: time
            value:
              hours: 7
          - type: boolean
            optional: true
            name: confirmation
            value: true
    response:
      bass:
        form:
          time:
            value:
              hours: 7
          date:
            value:
              days: 1
              days_relative: true
      text: "{}в 7 часов утра{}"

  - request: выключи будильник
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_cancel
      bass:
        blocks:
        - type: command
          command_type: show_alarms
        - type: attention
          attention_type: alarm__is_android
      text: "{show_alarms}"

  - request: покажи мои будильники
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_show
      bass:
        blocks:
        - type: command
          command_type: show_alarms
        - type: attention
          attention_type: alarm__is_android
        - type: suggest
          suggest_type: alarm__set_alarm
          data:
            time:
              hours: 8
        - type: suggest
          suggest_type: alarm__show_alarms
          data:
            uri: "dialog-action://?directives=%5B%7B%22name%22%3A%22show_alarms%22%2C%22type%22%3A%22client_action%22%7D%5D"
      text: "{show_alarms}"
      button_actions:
      - name: open_uri
        title: 'Посмотреть все будильники'
        payload:
          uri: "dialog-action://?directives=%5B%7B%22name%22%3A%22show_alarms%22%2C%22type%22%3A%22client_action%22%7D%5D"
      suggests:
      - caption: 'Поставить будильник на 8 часов утра'
        utterance: 'Поставить будильник на 8 часов утра'

test_older_android:
  app_info:
    app_id: 'ru.yandex.searchplugin'
    app_version: '7.33'
    os_version: '4.0'
    platform: 'android'

  dialog:
    установи будильник на 7:
      vins_form:
        name: personal_assistant.scenarios.alarm_set
        slots:
          time:
            value:
              hours: 7
      bass:
        blocks:
        - type: error
          error:
            msg: msg
            type: alarmerror
          data:
            code: unsupported_operation
        - type: suggest
          suggest_type: onboarding__what_can_you_do
      text: '{alarms_not_implemented}'
      suggests:
      - caption: 'Что ты умеешь?'
        utterance: 'Что ты умеешь?'

test_alarm_snooze:
  app_info:
    ignore:
    - watch
    - auto
    - desktop_alice
  device_state:
    alarm_state:
      currently_playing: true
  experiments: [alarm_snooze]
  dialog:
    ещё пять минуточек:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel
        slots:
          time:
            value:
              minutes: 5
      bass:
        form:
          time:
            value:
              hours: 8
              minutes: 5
        blocks:
        - type: attention
          attention_type: alarm__snooze
      text: "{snooze} в 08:05{}"

    перенеси на полчаса:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel
        slots:
          time:
            value:
              minutes: 30

    переставь на десять минут:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel
        slots:
          time:
            value:
              minutes: 10

    отложи на 9 утра:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel
        slots:
          time:
            value:
              hours: 9
              period: am

    дай поспать:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel

    еще немножко:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel

    еще чуть-чуть:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel
      bass:
        form:
          time:
            value:
              hours: 8
              minutes: 10
        blocks:
        - type: attention
          attention_type: alarm__snooze
      text: "{snooze} в 08:10{}"

    еще пять минут до будильника:
      vins_form:
        name: personal_assistant.scenarios.alarm_snooze_rel


test_alarm_snooze_via_set:
  отложи до 15:30:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 15
            minutes: 30
    bass:
      form:
        time:
          value:
            hours: 15
            minutes: 30
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 15:30{}"

  разбуди в 9 утра:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 9
            period: am

test_alarm_snooze_via_set_fail:
  повтори 09:
    vins_form:
      name: personal_assistant.general_conversation.general_conversation

  повтори 0_0:
    vins_form:
      name: personal_assistant.general_conversation.general_conversation

test_alarm_snooze_fail:
  experiments: [alarm_snooze]
  dialog:
    еще чуть-чуть:
      vins_form:
        name: personal_assistant.general_conversation.general_conversation

test_stop_buzzing:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    хватит:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_2:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    выключи будильник:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_3:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    останови будильник:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_4:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    отключи этот будильник:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_5:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    выключи пожалуйста будильник:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_6:
  device_state:
    alarm_state:
      currently_playing: true
  dialog:
    стоп:
      vins_form:
        name: personal_assistant.scenarios.alarm_stop_playing
      text: ''

test_stop_buzzing_fail:
  experiments: [vins_pause_commands_relevant_again]
  dialog:
    хватит:
      vins_form:
        name: personal_assistant.handcrafted.fast_cancel

test_list_cancel:
  удали будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
          - time:
              hours: 8
              minutes: 00
            date:
              weekdays: [3]
              repeat: true
      blocks:
      - type: attention
        attention_type: alarm__multiple_alarms
    text: "Сейчас установлено несколько будильников:\n{alarm_list}\nКакой из них вы\
      \ хотите выключить?"
  никакой:
    vins_form:
      name: personal_assistant.scenarios.common.cancel_list
    text: ""

test_list_cancel_fail:
  поставь будильник на 7:
    bass:
      form:
        time:
          value:
            hours: 7
        date:
          value:
            days: 0
            days_relative: true
    text: "{}на сегодня в 7 часов{}"
  никакой:
    vins_form:
      name: personal_assistant.general_conversation.general_conversation
    text: "{}"

test_no_such_alarm:
  выключи будильник:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel
    bass:
      form:
        available_alarms:
          value:
          - time:
              hours: 7
              minutes: 30
            date:
              days: 1
              days_relative: true
          - time:
              hours: 8
              minutes: 00
            date:
              weekdays: [3]
              repeat: true
      blocks:
      - type: attention
        attention_type: alarm__multiple_alarms
    text: "Сейчас установлено несколько будильников:\n{alarm_list}\nКакой из них вы\
      \ хотите выключить?"
  выключи третий:
    vins_form:
      name: personal_assistant.scenarios.alarm_cancel__ellipsis
    bass:
      blocks:
      - type: attention
        attention_type: alarm__invalid_id
    text: "У меня нет такого будильника. Сейчас установлено несколько будильников:\n\
      {alarm_list}\nКакой из них вы хотите выключить?"

test_elari_watch:
  app_info:
    app_id: 'ru.yandex.iosdk.elariwatch.test'
    app_version: '1.0'
    os_version: '4.0'
    platform: 'android'
  bass:
    blocks:
    - type: error
      error:
        msg: msg
        type: alarmerror
      data:
        code: unsupported_operation
  dialog:
    включи будильник: '{elari_watch_not_supported}'

test_alarm_set_only_minutes:
  поставь будильник на 50 минут:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            minutes: 50
    bass:
      form:
        time:
          value:
            minutes: 50
        date:
          value:
            days: 1
            days_relative: true
    text: "{}на завтра в 00:50{}"


# Alarm sound tests

test_alarm_set_sound_unsupported:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
      text: 'Извините, я пока не умею изменять звук будильника на этом устройстве.'

test_alarm_set_sound_update_first:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__update_first
      text: 'Разработчики уже выпустили обновление, в котором я это умею. Чтобы его установить, оставьте колонку включённой на ночь — и всё загрузится само.'

test_alarm_set_sound_success_radio_old:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь это радио на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: radio
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{radio_ok} {set_alarms}'

test_alarm_set_sound_success_radio:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь это радио на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: radio
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{radio_ok}'

test_alarm_set_sound_success_radio_with_no_alarms:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь это радио на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: radio
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__no_alarms
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{radio_ok} {no_alarms}'

test_alarm_set_sound_success_radio_search:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{radio_ok}'

test_alarm_set_sound_success_radio_search_inactive:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: false
              available: true
      text: 'Окей! {radio_ok_inactive}'

test_alarm_set_sound_success_music:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: track
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{music_ok} {radiohead_voice}'
      text: '{music_ok} {radiohead_text}'

test_alarm_set_sound_success_music_changed_target:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь этот альбом на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: album
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__set_song_instead
        - type: command
          command_type: alarm_set_sound
        form:
          target_type:
            value: track
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{music_changed_target} {radiohead_voice}'
      text: '{music_changed_target} {radiohead_text}'

test_alarm_set_sound_success_music_repeat:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник на повторе:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: track
          repeat:
            value: repeat
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{music_ok} {repeat} {radiohead_voice}'
      text: '{music_ok} {repeat} {radiohead_text}'

test_alarm_set_sound_success_music_search:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          music_search:
            value: 'группу radiohead'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{music_ok} {radiohead_voice}'
      text: '{music_ok} {radiohead_text}'

test_alarm_set_sound_success_music_search_artist:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          music_search:
            value: 'rolling stones'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              name: 'The Rolling Stones'
              type: artist
      text: '{music_ok} The Rolling Stones.'

test_alarm_set_sound_success_music_search_album:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник альбом ok computer:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          music_search:
            value: 'альбом ok computer'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              title: 'OK Computer'
              artists:
              - is_various: false
                id: '36825'
                composer: false
                name: 'Radiohead'
              genre: 'indie'
              type: album
      text: '{music_ok} Radiohead, альбом "OK Computer".'

test_alarm_set_sound_success_music_search_playlist:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник плейлист для ванны:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          playlist:
            value: 'плейлист для ванны'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              title: 'Сад камней: дзен-плейлист для ванной'
              type: playlist
      text: '{music_ok} {bathroom_playlist}'

test_alarm_set_sound_success_filters_combo:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник грустный рок:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          mood:
            value: sad
          genre:
            value: rock
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                mood: sad
                genre: rock
      text: 'Хорошо, вас разбудит выбранная подборка.'

test_alarm_set_sound_success_filters_genre:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник рок:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          genre:
            value: rock
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                genre: rock
      text: '{set_filters_genre} рок.'

test_alarm_set_sound_success_filters_activity:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник музыку для бега:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          activity:
            value: run
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                activity: run
      text: '{set_filters_activity} бега.'

test_alarm_set_sound_success_filters_epoch:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник музыку 90:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          epoch:
            value: nineties
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                epoch: nineties
      text: 'Окей, поставила на будильник музыку 1990-х.'

test_alarm_set_sound_success_filters_personal:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник музыку которая мне нравится:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          personality:
            value: is_personal
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                personality: is_personal
      text: '{set_personal}'

test_alarm_set_sound_success_filters_user_stream:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь хорошую музыку на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          personality:
            value: is_user_stream
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                personality: is_user_stream
      text: '{set_user_stream}'

test_alarm_set_sound_success_filters_special_playlist:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник плейлист дня:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          special_playlist:
            value: playlist_of_the_day
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              filters:
                special_playlist: playlist_of_the_day
      text: 'Хорошо, поставила на будильник плейлист дня.'

test_alarm_set_sound_failure_radio_search_1:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__radio_search_failure
        - type: attention
          attention_type: no_station
      text: 'Простите, не знаю такой радиостанции.'

test_alarm_set_sound_failure_radio_search_2:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник:
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__radio_search_failure
        - type: attention
          attention_type: unsupported_user_region
      text: 'К сожалению, для вашего региона не найдено ни одной доступной радиостанции.'

test_alarm_set_sound_failure_radio_search_3:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник:
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__radio_search_failure
      text: '{unconfigured_station}'

test_alarm_set_sound_failure_music_search_1:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          music_search:
            value: 'группу radiohead'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__unauthorized
      text: 'Вы не авторизовались.'

test_alarm_set_sound_failure_music_search_2:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__payment_required
      text: 'Чтобы ставить на будильник музыку, необходимо купить подписку на Яндекс.Плюс.'

test_alarm_set_sound_failure_music_search_3:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__payment_required
        - type: attention
          attention_type: alarm_sound__plus_push
      text: 'Чтобы ставить на будильник музыку, вам нужна подписка Яндекс.Плюс. Ссылка для покупки придёт на ваш смартфон — я уже её отправила.'

test_alarm_set_sound_failure_music_search_4:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      bass:
        blocks:
        - type: error
          error:
            msg: msg
            type: musicerror
          data:
            code: music_not_found
      text: '{music_not_found}'

test_alarm_set_sound_failure_music_search_5:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь группу Radiohead на будильник:
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__unknown_error
      text: 'Не получилось это поставить, что-то пошло не так.'

test_alarm_set_sound_failure_general:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту музыку на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
      text: '{how_to_set_sound}'
    rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.music_play'

test_alarm_set_sound_failure_general_ask_sound:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          this:
            optional: false
      text: '{ask_sound} {ask_sound_music}'
      should_listen: true
    rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_ask_sound'
        slots:
          music_search:
            value: 'rolling stones'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              name: 'The Rolling Stones'
              type: artist
      text: '{music_ok} The Rolling Stones. {set_alarms}'

test_alarm_set_sound_failure_general_ask_sound_radio:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: radio
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          this:
            optional: false
          target_type:
            value: radio
      text: '{ask_sound} {ask_sound_radio}'
      should_listen: true
    радио 7:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_ask_sound'
        slots:
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{radio_ok}'

test_alarm_set_sound_failure_radio_shazam:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: track
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__music_from_radio
      text: '{radio_shazam}'

test_alarm_set_sound_failure_video_shazam:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту песню на будильник:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_sound'
        slots:
          target_type:
            value: track
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__music_from_video
      text: '{video_shazam}'

test_alarm_set_sound_other:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
  - request: поменяй мелодию звонка
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound

  - request: поставь песню на будильник
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound

  - request: поставь алиса поставь это радио на будильник
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound

  - request: поменяй мелодию будильника
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound

  - request: измени мелодию будильника на группу periphery
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound

  - request: поставь мою музыку мелодии будильник
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_sound


test_alarm_how_to_set_sound_unsupported:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    как сменить музыку на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_how_to_set_sound'
      text: 'Извините, я пока не умею изменять звук будильника на этом устройстве.'

test_alarm_how_to_set_sound_update_first:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    как сменить музыку на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_how_to_set_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__update_first
      text: 'Разработчики уже выпустили обновление, в котором я это умею. Чтобы его установить, оставьте колонку включённой на ночь — и всё загрузится само.'

test_alarm_how_to_set_sound_general:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    как сменить музыку на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_how_to_set_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__how_to
      text: '{how_to_set_sound}'

test_alarm_how_to_set_sound_other:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
  - request: алиса как изменить мелодию будильника
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_how_to_set_sound'


test_alarm_reset_sound_unsupported:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    удали музыку с будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_reset_sound'
      text: 'У вас и так стоит стандартный звук будильника. Другие настраивать на этом устройстве я пока не умею.'

test_alarm_reset_sound_update_first:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    удали музыку с будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_reset_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__update_first
      text: 'У вас и так стоит стандартный звук будильника. Иначе и быть не могло. Чтобы его изменять, обновите прошивку колонки: просто оставьте её на ночь с подключенным соединением, я всё сделаю сама.'

test_alarm_reset_sound_default_already:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    удали музыку с будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_reset_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__default_is_set
      text: 'У вас уже стоит стандартный звук будильника.'

test_alarm_reset_sound_success:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    удали музыку с будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_reset_sound'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_reset_sound
      text: '{reset_sound}'

test_alarm_reset_sound_other:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
  - request: поставь обычный звонок на будильник
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_reset_sound

  - request: поставь стандартный звук будильника
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_reset_sound

  - request: поставь обычный звук будильника
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_reset_sound

  - request: смени сигнал будильника на стандартный
    response:
      vins_form:
        name: personal_assistant.scenarios.alarm_reset_sound


test_alarm_what_sound_is_set_unsupported:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      text: 'У вас стоит стандартный звук будильника. Другие настраивать на этом устройстве я пока не умею.'

test_alarm_what_sound_is_set_update_first:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__update_first
      text: 'У вас стоит стандартный звук будильника. Иначе и быть не могло. Чтобы его изменять, обновите прошивку колонки: просто оставьте её на ночь с подключенным соединением, я всё сделаю сама.'

test_alarm_what_sound_is_set_default:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__default_is_set
      text: '{default_is_set}'

test_alarm_what_sound_is_set_default_with_no_alarms:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__default_is_set
        - type: attention
          attention_type: alarm_sound__no_alarms
      text: '{default_is_set} А самих будильников у вас нет. Можете попросить меня завести.'

test_alarm_what_sound_is_set_radio:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: '{alarm_sound_text} "Радио 7".'

test_alarm_what_sound_is_set_music:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{alarm_sound_voice} {radiohead_voice}'
      text: '{alarm_sound_text} {radiohead_text}'

test_alarm_what_sound_is_set_music_repeat:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__repeat
        form:
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      voice: '{alarm_sound_voice} {repeat} {radiohead_voice}'
      text: '{alarm_sound_text} {repeat} {radiohead_text}'

test_alarm_what_sound_is_set_music_artist:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              name: 'The Rolling Stones'
              type: artist
      text: '{alarm_sound_text} The Rolling Stones.'

test_alarm_what_sound_is_set_music_album:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              title: 'OK Computer'
              artists:
              - is_various: false
                id: '36825'
                composer: false
                name: 'Radiohead'
              genre: 'indie'
              type: album
      text: '{alarm_sound_text} Radiohead, альбом "OK Computer".'

test_alarm_what_sound_is_set_music_album2:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              title: 'Лучшее: Машина времени'
              type: playlist
      text: '{alarm_sound_text} подборка "Лучшее: Машина времени".'

test_alarm_what_sound_is_set_filters_combo:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                mood: sad
                genre: rock
      text: '{alarm_sound_text} специальная подборка.'

test_alarm_what_sound_is_set_filters_genre:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                genre: rock
      text: '{alarm_sound_text} рок.'

test_alarm_what_sound_is_set_filters_activity:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                activity: run
      text: '{alarm_sound_text} музыка для бега.'

test_alarm_what_sound_is_set_filters_epoch:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                epoch: nineties
      text: '{alarm_sound_text} музыка 1990-х.'

test_alarm_what_sound_is_set_filters_personal:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                personality: is_personal
      text: '{personal_is_set}'

test_alarm_what_sound_is_set_filters_user_stream:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                personality: is_user_stream
      text: '{user_stream_is_set}'

test_alarm_what_sound_is_set_filters_special_playlist:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    что стоит на будильнике:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        form:
          music_result:
            value:
              filters:
                special_playlist: playlist_of_the_day
      text: '{alarm_sound_text} плейлист дня.'

test_alarm_what_sound_is_set_other:
  experiments: [change_alarm_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
  - request: звонок будильника у тебя какой
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'

  - request: что включится от будильника
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'

  - request: какой звук будет у будильника
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'

  - request: как звучит будильник
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'

  - request: какой звук у будильника
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_is_set'

test_alarm_set_with_sound_unsupported:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник на 8:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 8
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        form:
          time:
            value:
              hours: 8
          date:
            value:
              days: 1
              days_relative: true
      text: '{}на завтра в 8 часов утра{}А изменять звук будильника на этом устройстве я пока не умею, извините.'

test_alarm_set_with_sound_update_first:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник на 8:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 8
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__update_first
        form:
          time:
            value:
              hours: 8
          date:
            value:
              days: 1
              days_relative: true
      text: '{}на завтра в 8 часов утра{}А изменить звук будильника не удалось, сначала нужно установить обновление. Для этого оставьте колонку включённой на ночь — и всё загрузится само.'

test_alarm_set_with_sound_success_radio:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио на будильник на 10 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
              period: am
          target_type:
            value: radio
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 10
          date:
            value:
              days: 1
              days_relative: true
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: "{}на завтра в 10 часов утра{}{radio_ok_combo}"

test_alarm_set_with_sound_success_radio_search:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник на 10 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
              period: am
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 10
          date:
            value:
              days: 1
              days_relative: true
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: true
              available: true
      text: "{}на завтра в 10 часов утра{}{radio_ok_combo}"

test_alarm_set_with_sound_success_radio_search_inactive:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник на 15 0 0:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 15
              minutes: 0
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 15
          date:
            value:
              days: 0
              days_relative: true
          radio_result:
            value:
              title: 'Радио 7'
              radioId: radio7
              active: false
              available: true
      text: "{}на сегодня в 15 часов{}{radio_ok_inactive}"

test_alarm_set_with_sound_success_music:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь песню на будильник на 15 0 0:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 15
              minutes: 0
          target_type:
            value: track
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 15
          date:
            value:
              days: 0
              days_relative: true
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      text: "{}на сегодня в 15 часов{}{music_ok_combo} {radiohead_text}"

test_alarm_set_with_sound_success_music_search:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    буди меня группой Radiohead по понедельникам в 6 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 6
              period: am
          date:
            value:
              weekdays: [1]
              repeat: true
          music_search:
            value: 'группой radiohead'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 6
          date:
            value:
              weekdays: [1]
              repeat: true
          music_result:
            value:
              album:
                genre: indie
                title: 'OK Computer OKNOTOK 1997 2017'
              title: 'No Surprises'
              artists:
              - is_various: false
                composer: false
                name: 'Radiohead'
              type: track
      text: "{}по понедельникам в 6 часов утра{}{music_ok_combo} {radiohead_text}"

test_alarm_set_with_sound_success_music_search_playlist:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь на будильник плейлист для ванны по понедельникам в 6 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 6
              period: am
          date:
            value:
              weekdays: [1]
              repeat: true
          playlist:
            value: 'плейлист для ванны'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 6
          date:
            value:
              weekdays: [1]
              repeat: true
          music_result:
            value:
              title: 'Сад камней: дзен-плейлист для ванной'
              type: playlist
      text: "{}по понедельникам в 6 часов утра{}{music_ok_combo} {bathroom_playlist}"

test_alarm_set_with_sound_success_filters_genre:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь рок на будильник на сегодня на 21 24:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 21
              minutes: 24
          date:
            value:
              days: 0
              days_relative: true
          genre:
            value: rock
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 21
              minutes: 24
          date:
            value:
              days: 0
              days_relative: true
          music_result:
            value:
              filters:
                genre: rock
      text: "{}на сегодня в 21:24{}{set_filters_genre_combo} рок."

test_alarm_set_with_sound_success_filters_activity:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку для бега на будильник на сегодня на 21 24:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 21
              minutes: 24
          date:
            value:
              days: 0
              days_relative: true
          activity:
            value: run
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 21
              minutes: 24
          date:
            value:
              days: 0
              days_relative: true
          music_result:
            value:
              filters:
                activity: run
      text: "{}на сегодня в 21:24{}{set_filters_activity_combo} бега."

test_alarm_set_with_sound_success_filters_personal:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку которая мне нравится на будильник на завтра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          date:
            value:
              days: 1
              days_relative: true
          personality:
            value: is_personal
      bass:
        form:
          date:
            value:
              days: 1
              days_relative: true
          time:
            optional: false
      text: "{ask_time}"
      should_listen: true
    на 8 вечера:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_with_sound__ellipsis
        slots:
          time:
            value:
              hours: 8
              period: pm
          date:
            value:
              days: 1
              days_relative: true
          personality:
            value: is_personal
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 20
          date:
            value:
              days: 1
              days_relative: true
          music_result:
            value:
              filters:
                personality: is_personal
      text: "{}на завтра в 20 часов{}{set_personal_combo}"

test_alarm_set_with_sound_success_filters_user_stream:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь хорошую музыку на будильник на завтра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          date:
            value:
              days: 1
              days_relative: true
          personality:
            value: is_user_stream
      bass:
        form:
          date:
            value:
              days: 1
              days_relative: true
          time:
            optional: false
      text: "{ask_time}"
      should_listen: true
    на 8 вечера:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_with_sound__ellipsis
        slots:
          time:
            value:
              hours: 8
              period: pm
          date:
            value:
              days: 1
              days_relative: true
          personality:
            value: is_user_stream
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 20
          date:
            value:
              days: 1
              days_relative: true
          music_result:
            value:
              filters:
                personality: is_user_stream
      text: "{}на завтра в 20 часов{}{set_user_stream_combo}"

test_alarm_set_with_sound_success_filters_special_playlist:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь плейлист дня на будильник на 10:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
          special_playlist:
            value: playlist_of_the_day
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          time:
            value:
              hours: 10
          date:
            value:
              days: 1
              days_relative: true
          music_result:
            value:
              filters:
                special_playlist: playlist_of_the_day
      text: "{}на завтра в 10 часов утра{}Поставила на будильник плейлист дня."

test_alarm_set_with_sound_failure_alarm_error:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник на 10:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
      bass:
        blocks:
        - type: error
          error:
            msg: msg
            type: alarmerror
          data:
            code: bad_arguments
      text: "{bad_arguments}"

test_alarm_set_with_sound_failure_radio_search_1:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник на 10 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
              period: am
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__radio_search_failure
        - type: attention
          attention_type: no_station
        form:
          time:
            value:
              hours: 10
          date:
            value:
              days: 1
              days_relative: true
      text: "{}Но этого радио я не нашла — попробуйте другое."

test_alarm_set_with_sound_failure_radio_search_2:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь радио 7 на будильник на 10 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 10
              period: am
          radio_search:
            value: 'Радио 7'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__radio_search_failure
        form:
          time:
            value:
              hours: 10
          date:
            value:
              days: 1
              days_relative: true
      text: "{}Но эту частоту я ещё не поймала. Попросите меня поставить другое радио."

test_alarm_set_with_sound_failure_music_search_1:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    буди меня группой Radiohead по понедельникам в 6 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 6
              period: am
          date:
            value:
              weekdays: [1]
              repeat: true
          music_search:
            value: 'группой radiohead'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: alarm_sound__unauthorized
        form:
          time:
            value:
              hours: 6
          date:
            value:
              weekdays: [1]
              repeat: true
      text: "{}А музыку поставить не могу, ведь вы не авторизовались."

test_alarm_set_with_sound_failure_music_search_2:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    буди меня группой Radiohead по понедельникам в 6 утра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 6
              period: am
          date:
            value:
              weekdays: [1]
              repeat: true
          music_search:
            value: 'группой radiohead'
      bass:
        blocks:
        - type: attention
          attention_type: alarm__already_set
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        - type: attention
          attention_type: deleted_error__musicerror
          data:
            code: music_not_found
        form:
          time:
            value:
              hours: 6
          date:
            value:
              weekdays: [1]
              repeat: true
      text: "{} уже установлен. {music_not_found_combo}"

test_alarm_set_with_sound_failure_general:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь эту музыку на будильник на 8:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 8
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        form:
          time:
            value:
              hours: 8
          date:
            value:
              days: 1
              days_relative: true
      text: '{}на завтра в 8 часов утра{}{how_to_set_sound}'
    rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.music_play'

test_alarm_set_with_sound_failure_general_ask_sound:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник на 8:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          time:
            value:
              hours: 8
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        form:
          time:
            value:
              hours: 8
          date:
            value:
              days: 1
              days_relative: true
          this:
            optional: false
      text: '{}на завтра в 8 часов утра{}{ask_sound} {ask_sound_music}'
      should_listen: true
    rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_ask_sound'
        slots:
          music_search:
            value: 'rolling stones'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              name: 'The Rolling Stones'
              type: artist
      text: '{music_ok} The Rolling Stones.'

test_alarm_set_with_sound_failure_general_ask_time_and_sound:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    поставь музыку на будильник на завтра:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'
        slots:
          date:
            value:
              days: 1
              days_relative: true
      bass:
        form:
          date:
            value:
              days: 1
              days_relative: true
          time:
            optional: false
      text: "{ask_time}"
      should_listen: true
    на 8 вечера:
      vins_form:
        name: personal_assistant.scenarios.alarm_set_with_sound__ellipsis
        slots:
          time:
            value:
              hours: 8
              period: pm
          date:
            value:
              days: 1
              days_relative: true
      bass:
        blocks:
        - type: attention
          attention_type: alarm__success
        - type: attention
          attention_type: alarm_sound__supported
        form:
          time:
            value:
              hours: 20
          date:
            value:
              days: 1
              days_relative: true
          this:
            optional: false
      text: "{}на завтра в 20 часов{}{ask_sound} {ask_sound_music}"
      should_listen: true
    rolling stones:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_ask_sound'
        slots:
          music_search:
            value: 'rolling stones'
      bass:
        blocks:
        - type: attention
          attention_type: alarm_sound__supported
        - type: command
          command_type: alarm_set_sound
        form:
          music_result:
            value:
              name: 'The Rolling Stones'
              type: artist
      text: '{music_ok} The Rolling Stones.'

test_alarm_set_with_sound_other:
  experiments: [change_alarm_sound,change_alarm_with_sound]
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
  - request: колыбельную и поставь будильник на восемь утра
    response:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_set_with_sound'

test_alarm_sound_set_level:
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    установи громкость будильника 5:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 5
      text: '{sound_level_result}5.'
    поставь громкость будильника на 10:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 10
      text: '{sound_level_result}10.'
    установи уровень громкости будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
      text: '{sound_level_ask}'
    выставь громкость будильника 11:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 11
      bass:
        blocks:
        - type: error
          error:
            msg: ''
            type: sounderror
          data:
            code: level_out_of_range
      text: '{sound_level_out_of_range}'

test_alarm_sound_set_level_limit:
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  device_state:
    sound_level: 1
  dialog:
    установи минимальную громкость будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 'minimum'
      bass:
        form:
          level:
            value: 1
      text: '{sound_level_result}1.'
    средний уровень громкости будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 'middle'
      bass:
        form:
          level:
            value: 4
      text: '{sound_level_result}4.'
    сделай максимальную громкость будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 'maximum'
      bass:
        form:
          level:
            value: 10
      text: '{sound_level_result}10.'
    поставь громкость будильника на максимум:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_sound_set_level'
        slots:
          level:
            value: 'maximum'
      bass:
        form:
          level:
            value: 10
      text: '{sound_level_result}10.'
    на полную громкость засыпай:
      vins_form:
        name: 'personal_assistant.scenarios.sound_set_level'


test_alarm_what_sound_level_is_set_custom:
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    какая громкость будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_level_is_set'
      bass:
        form:
          level:
            value: 5
      text: '{what_sound_level_is_set} - 5.'

test_alarm_what_sound_level_is_set_unsupported:
  app_info:
    app_id: 'ru.yandex.quasar.vins_test'
    app_version: '1.0'
    os_version: '6.0.1'
    platform: 'android'
  dialog:
    какая громкость будильника:
      vins_form:
        name: 'personal_assistant.scenarios.alarm_what_sound_level_is_set'
      bass:
        blocks:
        - type: error
          error:
            msg: msg
            type: alarmerror
          data:
            code: unsupported_operation
      text: '{unsupported}'


# ALICE-3109, ALICE-3285
test_time_with_inner_word:
  поставь будильник завтра в шесть утра пятьдесят:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 6
            minutes: 50
            period: am
        date:
          value:
            days: 1
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 6
            minutes: 50
        date:
          value:
            days: 1
            days_relative: true

  будильник на сегодня в одиннадцать часов утра и две минуты:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 11
            minutes: 2
            period: am
        date:
          value:
            days: 0
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 11
            minutes: 2
        date:
          value:
            days: 0
            days_relative: true

  поставь будильник на 7 утра 15:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 7
            minutes: 15
            period: am
    bass:
      form:
        time:
          value:
            hours: 7
            minutes: 15
        date:
          value:
            days: 1
            days_relative: true

  алиса поставь будильник на сегодняшний день на двадцать один двадцать четыре:
    vins_form:
      name: personal_assistant.scenarios.alarm_set
      slots:
        time:
          value:
            hours: 21
            minutes: 24
        date:
          value:
            days: 0
            days_relative: true
    bass:
      form:
        time:
          value:
            hours: 21
            minutes: 24
        date:
          value:
            days: 0
            days_relative: true
