labels:
  operator_redirect: '.*OPERATOR_REDIRECT.*'
  feedback_addon: '.*Скажите, пожалуйста, смог ли я ответить на ваш вопрос\?'

test_order_status:
  статус заказа:
    vins_form:
      name: crm_bot.scenarios.order_status
  где мой заказ:
    vins_form:
      name: crm_bot.scenarios.order_status
  что с заказом:
    vins_form:
      name: crm_bot.scenarios.order_status
  когда привезут заказ 12345678:
    vins_form:
      name: crm_bot.scenarios.order_status
      slots:
        order_id_neuro:
          value: "12345678"
  статус заказа 1235678:
    vins_form:
      name: crm_bot.scenarios.order_status
      slots:
        order_id_neuro:
          value: "1235678"
  где заказ 1235678:
    vins_form:
      name: crm_bot.scenarios.order_status
      slots:
        order_id_neuro:
          value: "1235678"

test_order_status_in_cancellation_why:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_has_cancellation_request
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_cancelled
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "HAS_CANCELLATION_REQUEST"
      suggests:
        - type: not_cancelled
          caption: Почему вы отменили мой заказ?
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Почему вы отменили мой заказ?:
      vins_form:
        name: crm_bot.scenarios.order_cancel_we_did

test_order_status_in_cancellation_feedback:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_has_cancellation_request
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_cancelled
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "HAS_CANCELLATION_REQUEST"
      suggests:
        - type: not_cancelled
          caption: Почему вы отменили мой заказ?
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_not_found:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_not_found
            data:
              orderId: "12345678"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "NOT_FOUND"
    Да:
      vins_form:
        name: crm_bot.scenarios.garbage
        slots:
          confirmation: "yes"

test_order_status_unpaid:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_unpaid
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "UNPAID"
      suggests:
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_pending:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_pending
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "PENDING"
      suggests:
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_delivered_not:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_delivered
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_delivered
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERED"
      suggests:
        - type: not_delivered
          caption: '{}Мне не привезли этот заказ!'
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Мне не привезли этот заказ!:
      vins_form:
        name: crm_bot.scenarios.order_status__not_delivered
      text: '{operator_redirect}'

test_order_status_delivered_feedback:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_delivered
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_delivered
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERED"
      suggests:
        - type: not_delivered
          caption: '{}Мне не привезли этот заказ!'
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_cancelled_not:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_cancelled
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_cancelled
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "CANCELLED"
      suggests:
        - type: not_cancelled
          caption: 'Почему вы отменили мой заказ?'
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Почему вы отменили мой заказ?:
      vins_form:
        name: crm_bot.scenarios.order_cancel_we_did

test_order_status_cancelled_feedback:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_cancelled
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: not_cancelled
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "CANCELLED"
      suggests:
        - type: not_cancelled
          caption: 'Почему вы отменили мой заказ?'
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_pickup:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: order_in_pickup
            data:
              orderId: "12345678"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "PICKUP"
      suggests:
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_today_fine:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_today_fine
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
              buyerAddress:
                country: Россия
                city: Москва
                street: Ленина ул.
                house: "1"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: feedback_yes
          - type: suggest
            suggest_type: feedback_no
            data:
              nobr: "1"
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_FINE"
      suggests:
        - type: feedback_yes
          caption: Да, помог
        - type: feedback_no
          caption: Нет, не помог
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_today_in_traffic_with_contact:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_today_courier_in_traffic
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
              buyerAddress:
                country: "Россия"
                city: "Москва"
                street: "Ленина ул."
                house: "1"
          - type: text_card
            phrase_id: delivery_courier_in_traffic
            data:
              orderId: "12345678"
              deliveryServiceContact: "+71234567890"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
          - type: suggest
            suggest_type: dont_wanna_call
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_COURIER_IN_TRAFFIC"
      suggests:
        - type: dont_wanna_call
          caption: '{}Не хочу никуда звонить'
    Не хочу никуда звонить:
      vins_form:
        name: crm_bot.scenarios.order_status__continuation
        slots:
          confirmation: "no"

test_order_status_today_in_traffic_yes_wait:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_today_courier_in_traffic
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
              buyerAddress:
                country: "Россия"
                city: "Москва"
                street: "Ленина ул."
                house: "1"
          - type: text_card
            phrase_id: delivery_courier_in_traffic
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
          - type: suggest
            suggest_type: yes_wait
          - type: suggest
            suggest_type: no_wait
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_COURIER_IN_TRAFFIC"
      suggests:
        - type: yes_wait
          caption: 'Да, буду ждать'
        - type: no_wait
          caption: '{}Нет, не буду ждать'
    Да:
      vins_form:
        name: crm_bot.scenarios.order_status__continuation
        slots:
          confirmation: "yes"

test_order_status_today_lost:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_today_order_lost
          - type: text_card
            phrase_id: wanna_wait_to_find
          - type: suggest
            suggest_type: yes_contact
          - type: suggest
            suggest_type: no_contact
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_LOST"
      suggests:
        - type: yes_contact
          caption: 'Да, подожду'
        - type: no_contact
          caption: '{}Нет, не хочу ждать этот заказ'
    Да:
      vins_form:
        name: crm_bot.scenarios.order_status__continuation
        slots:
          confirmation: "yes"

test_order_status_today_lost_completely:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: call_operator
          - type: suggest
            suggest_type: call_operator
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_LOST_COMPLETELY"
      suggests:
        - type: call_operator
          caption: 'Позови человека'
    Позови человека:
      vins_form:
        name: crm_bot.scenarios.operator_redirect

test_order_status_today_lost_call:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: call_operator
          - type: suggest
            suggest_type: call_operator
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_TODAY_LOST_CALL"
      suggests:
        - type: call_operator
          caption: 'Позови человека'
    Позови человека:
      vins_form:
        name: crm_bot.scenarios.operator_redirect

test_order_status_future_rescheduled:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_future
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
          - type: text_card
            phrase_id: wanna_wait_reschedule
          - type: suggest
            suggest_type: yes_rescheduled
          - type: suggest
            suggest_type: yes_change_address
          - type: suggest
            suggest_type: no_rescheduled
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_FUTURE_RESCHEDULED"
      suggests:
        - type: yes_rescheduled
          caption: 'Да, доставьте по тому же адресу'
        - type: yes_change_address
          caption: '{} Да, но адрес нужно изменить'
        - type: no_rescheduled
          caption: 'Нет, не буду ждать'
    Да, но адрес нужно изменить:
      vins_form:
        name: crm_bot.scenarios.order_status__change_address
        slots:
          confirmation: "yes"

test_order_status_future_rescheduled2:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_future
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
          - type: text_card
            phrase_id: wanna_wait_reschedule
          - type: suggest
            suggest_type: yes_rescheduled
          - type: suggest
            suggest_type: yes_change_address
          - type: suggest
            suggest_type: no_rescheduled
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_FUTURE_RESCHEDULED"
      suggests:
        - type: yes_rescheduled
          caption: 'Да, доставьте по тому же адресу'
        - type: yes_change_address
          caption: '{} Да, но адрес нужно изменить'
        - type: no_rescheduled
          caption: 'Нет, не буду ждать'
    Нет, не буду ждать:
      vins_form:
        name: crm_bot.scenarios.order_status__continuation
        slots:
          confirmation: "no"

test_order_status_future_fine:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_future
            data:
              orderId: "12345678"
              was_rescheduled: "0"
              was_rescheduled_by_user: "0"
              delivery_type: "DELIVERY"
              delivery_dates:
                fromDate: "01-01-2020"
                toDate: "01-01-2020"
                fromTime: "10:00"
                toTime: "18:00"
              was_logged_in: "0"
          - type: text_card
            phrase_id: feedback_addon
          - type: suggest
            suggest_type: feedback_positive
          - type: suggest
            suggest_type: feedback_negative
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_FUTURE_FINE"
    Да:
      vins_form:
        name: crm_bot.scenarios.feedback_positive
        slots:
          confirmation: "yes"

test_order_status_future_lost:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: delivery_future_lost
          - type: text_card
            phrase_id: wanna_wait_to_find
          - type: suggest
            suggest_type: yes_contact
          - type: suggest
            suggest_type: no_contact
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_FUTURE_LOST"
    Да:
      vins_form:
        name: crm_bot.scenarios.order_status__continuation
        slots:
          confirmation: "yes"

test_order_status_future_lost_completely:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: call_operator
          - type: suggest
            suggest_type: call_operator
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_FUTURE_LOST"
    Позови человека:
      vins_form:
        name: crm_bot.scenarios.operator_redirect

test_order_status_messed_up:
  dialog:
    где заказ 12345678:
      vins_form:
        name: crm_bot.scenarios.order_status
        slots:
          order_id_neuro:
            value: "12345678"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: need_phone_or_email
        form:
          order_id:
            value: "12345678"
      text: 'Чтобы я мог посмотреть информацию об этом заказе (12345678), мне нужно знать номер телефона или адрес электронной почты, к которым этот заказ был привязан.'
    "user.name@hostname.com":
      vins_form:
        name: crm_bot.scenarios.order_status__data
        slots:
          order_id:
            value: "12345678"
          email_neuro:
            value: "user name hostname com"
      bass:
        form_name: crm_bot.scenarios.order_status
        blocks:
          - type: text_card
            phrase_id: call_operator
          - type: suggest
            suggest_type: call_operator
        form:
          order_id:
            value: "12345678"
          email:
            value: "user.name@hostname.com"
          scenario_status:
            value: "DELIVERY_MESSED_UP"
    Позови человека:
      vins_form:
        name: crm_bot.scenarios.operator_redirect
