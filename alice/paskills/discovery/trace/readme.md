# Disco Trace
> Тулза для дебагинга discovery

Тулза помогает находить причины, из-за которых пользователю не показось Discovery при запросе.

## Запуск
```
ya make
./discovery_trace patrons/horoscope.json
```

## Пример результата

```
|------------------------------------------------------------------------|
| Query                    | Skill            | CM2  | SaaS | Moderation |
|------------------------------------------------------------------------|
| гороскоп                 | Синий гороскоп   | OK   | OK   | OK         |
| гороскоп                 | Sibnet           | OK   | Thr  | OK         |
| запусти навык гороскоп   | Синий гороскоп   | OK   | OK   | OK         |
| запусти навык гороскоп   | Sibnet           | OK   | Thr  | OK         |
| купить шторы             | Синий гороскоп   | CROP | 404  | OK         |
| купить шторы             | Sibnet           | CROP | 404  | OK         |
|------------------------------------------------------------------------|
```

- В первых двух колонках находятся пары запрос-навык из "патронов"
- `CROP` в колонке _CM2_ означает, что запрос классифициран как комерческий
- `Thr` в колонке _SaaS_ означает, что навык был отсечен по порогу
- `404` в колонке _SaaS_ означает, что навык не был найдет в _SaaS_, при поиске. Причин может быть несколько:
  -  навыка нет в базе Discovery
  -  _softness_ слишком мал, что бы он хотя бы появился в вариантах
- `notR`в колонке _Moderation_ указывает на то, что навык не рекомендован